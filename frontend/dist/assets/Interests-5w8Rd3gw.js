import{r as c,j as e,d as L,_ as C}from"./index-BhbzFmRm.js";import{l as n}from"./proxy-CGbD0Csy.js";import{s as I}from"./index-CEnH4XFE.js";import"./index-DcAOwtUU.js";const D=()=>{var g,N,p,w,j,k;const[f,i]=c.useState(128),[u,a]=c.useState(!1),[x,v]=c.useState([]),[y,b]=c.useState([]),[h,l]=c.useState(0),s=c.useRef(null);c.useEffect(()=>{const t=localStorage.getItem("musicLikes"),d=localStorage.getItem("musicIsLiked");t&&i(parseInt(t)),d&&a(d==="true")},[]);const o=()=>{u?(i(t=>t-1),localStorage.setItem("musicLikes",(f-1).toString()),localStorage.setItem("musicIsLiked","false"),a(!1)):(i(t=>t+1),localStorage.setItem("musicLikes",(f+1).toString()),localStorage.setItem("musicIsLiked","true"),a(!0))},r=()=>{if(s.current){const d=Math.min(h+400,0);l(d),s.current.scrollLeft+=200*2}},m=()=>{if(s.current){const d=s.current.scrollWidth-s.current.clientWidth,S=Math.max(h-200*2,-d);l(S),s.current.scrollLeft-=200*2}};return c.useEffect(()=>{const t=[{id:1,title:"晴天",artist:"周杰伦",coverUrl:"https://p2.music.126.net/6y-UleORITEDbvrOLV0Q8A==/5639395138885805.jpg",url:"https://music.163.com/song?id=186016"},{id:2,title:"稻香",artist:"周杰伦",coverUrl:"https://p2.music.126.net/8SQn3b8U4KcVb2x4JgS1uw==/109951165087313309.jpg",url:"https://music.163.com/song?id=186085"},{id:3,title:"青花瓷",artist:"周杰伦",coverUrl:"https://p2.music.126.net/4G8Wjmj7DlT24LbJx8nZJw==/109951163076649060.jpg",url:"https://music.163.com/song?id=28616530"},{id:4,title:"七里香",artist:"周杰伦",coverUrl:"https://p2.music.126.net/3mC1kYxTtU0VqTfK0y9ZgA==/109951165087313310.jpg",url:"https://music.163.com/song?id=186124"},{id:5,title:"夜曲",artist:"周杰伦",coverUrl:"https://p2.music.126.net/1a0oK2jGx7pN5v3Z5x5l5g==/109951165087313311.jpg",url:"https://music.163.com/song?id=186154"},{id:6,title:"告白气球",artist:"周杰伦",coverUrl:"https://p2.music.126.net/2Zg1q1q5Z1q1q5Z1q1q5Z1q==/109951165087313312.jpg",url:"https://music.163.com/song?id=418603085"}];v(t),b(t.slice(0,3))},[]),e.jsxs(n.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"interest-card music-widget",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"widget-title",children:"最近在循环"}),e.jsx("p",{className:"widget-desc",children:"私人歌单，华语治愈系"})]}),e.jsx("div",{className:"mb-10",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsxs("div",{className:"relative mb-8 max-w-sm mx-auto",children:[x.slice(1,4).map((t,d)=>e.jsx(n.div,{initial:{opacity:0},animate:{opacity:.2-d*.05,y:15*(d+1),scale:.95-d*.03,zIndex:3-d},transition:{duration:.5},className:"absolute inset-0 w-full",children:e.jsx("div",{className:"music-card relative w-full bg-white/10 backdrop-blur-sm rounded-lg overflow-hidden shadow-xl",children:e.jsx("div",{className:"relative overflow-hidden",children:e.jsx("img",{src:t.coverUrl,alt:`${t.title} - ${t.artist}`,className:"w-full h-48 object-cover"})})})},`music-stack-${t.id}`)),e.jsxs(n.div,{initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},transition:{duration:.5,type:"spring",stiffness:300,damping:30},className:"relative z-10 music-card group relative w-full bg-white/10 backdrop-blur-sm rounded-lg overflow-hidden shadow-2xl",children:[e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsx("img",{src:((g=x[0])==null?void 0:g.coverUrl)||"",alt:`${((N=x[0])==null?void 0:N.title)||""} - ${((p=x[0])==null?void 0:p.artist)||""}`,className:"w-full h-48 object-cover transition-transform duration-500 group-hover:scale-110"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end justify-center pb-4",children:e.jsx(n.div,{className:"w-12 h-12 rounded-full bg-white/90 flex items-center justify-center text-black",animate:{scale:[1,1.1,1]},transition:{duration:1.5,repeat:1/0,repeatDelay:1},children:"▶"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"font-semibold text-white truncate",children:((w=x[0])==null?void 0:w.title)||""}),e.jsx("p",{className:"text-gray-300 text-sm truncate",children:((j=x[0])==null?void 0:j.artist)||""})]})]},`music-current-${(k=x[0])==null?void 0:k.id}`)]}),e.jsxs("div",{className:"flex justify-center gap-4",children:[e.jsx(n.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:r,className:"bg-white/20 backdrop-blur-sm rounded-full p-3 text-white shadow-lg transition-all duration-300 hover:bg-white/30","aria-label":"Previous",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("polygon",{points:"15 18 9 12 15 6"})})}),e.jsx(n.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:m,className:"bg-white/20 backdrop-blur-sm rounded-full p-3 text-white shadow-lg transition-all duration-300 hover:bg-white/30","aria-label":"Next",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("polygon",{points:"9 18 15 12 9 6"})})})]})]})}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"最受欢迎"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:y.map((t,d)=>e.jsxs(n.div,{whileHover:{x:5},className:"flex items-center gap-3 p-3 bg-white/5 backdrop-blur-sm rounded-lg transition-all duration-300 hover:bg-white/10",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-400 w-8",children:d+1}),e.jsx("img",{src:t.coverUrl,alt:`${t.title} - ${t.artist}`,className:"w-12 h-12 object-cover rounded"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-medium text-white truncate",children:t.title}),e.jsx("p",{className:"text-gray-400 text-xs truncate",children:t.artist})]}),e.jsx("div",{className:"text-gray-400 hover:text-white cursor-pointer",children:"▶"})]},t.id))})]}),e.jsxs("div",{className:"mt-6 flex flex-col items-center gap-4",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs(n.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:o,className:`flex items-center gap-2 px-6 py-3 bg-white/10 backdrop-blur-sm rounded-full text-sm font-medium transition-all duration-300 shadow-md hover:shadow-lg hover:text-blue-400 transform hover:scale-110 group ${u?"text-red-500":""}`,children:[e.jsx("span",{className:`text-xl transition-transform duration-300 ${u?"transform scale-110":""}`,children:"❤️"}),e.jsxs("span",{children:[f," 人喜欢"]})]})}),e.jsx("div",{className:"text-white text-sm text-center",children:"华语流行 · 周杰伦 · 私人收藏"})]})]})},M=()=>{const f=[{id:1,title:"肖申克的救赎",year:"1994",poster:"/肖申克的救赎.jpg",rating:9.7,likes:126,isLiked:!1,director:"弗兰克·德拉邦特",review:"希望让人自由。",watchedAt:"2023-01-15"},{id:2,title:"海上钢琴师",year:"1998",poster:"/海上钢琴师.jpg",rating:9.2,likes:98,isLiked:!1,director:"朱塞佩·托纳多雷",review:"每个人都有自己的世界。",watchedAt:"2023-03-20"},{id:3,title:"唐人街探案",year:"2015",poster:"/唐人街探案.jpg",rating:7.7,likes:65,isLiked:!1,director:"陈思诚",review:"喜剧与推理的结合。",watchedAt:"2023-05-10"},{id:4,title:"让子弹飞",year:"2010",poster:"/让子弹飞.jpg",rating:9,likes:102,isLiked:!1,director:"姜文",review:"荒诞中见真实。",watchedAt:"2023-07-05"},{id:5,title:"默杀",year:"2024",poster:"/默杀.jpg",rating:8.5,likes:78,isLiked:!1,director:"张艺谋",review:"沉默的力量。",watchedAt:"2024-02-14"},{id:6,title:"你的婚礼",year:"2021",poster:"/你的婚礼.jpg",rating:5.3,likes:42,isLiked:!1,director:"韩天",review:"青春爱情故事。",watchedAt:"2023-09-08"}],[i,u]=c.useState(f),[a,x]=c.useState(0);c.useEffect(()=>{const l=localStorage.getItem("movieLikes");if(l&&i.length>0){const s=JSON.parse(l),o=i.map(r=>{var m,g;return{...r,isLiked:((m=s[r.id])==null?void 0:m.isLiked)||!1,likes:((g=s[r.id])==null?void 0:g.likes)||r.likes}});u(o)}},[i.length]);const v=l=>{const s=l.reduce((o,r)=>(o[r.id]={isLiked:r.isLiked,likes:r.likes},o),{});localStorage.setItem("movieLikes",JSON.stringify(s))},y=async l=>{try{await L.post(`/movies/${l}/likes`);const s=i.map(o=>{if(o.id===l){const r=o.isLiked?o.likes-1:o.likes+1;return{...o,likes:r,isLiked:!o.isLiked}}return o});u(s),v(s)}catch(s){console.error("Failed to update likes:",s),I.error("更新点赞失败")}},b=()=>{x(l=>l===0?i.length-1:l-1)},h=()=>{x(l=>l===i.length-1?0:l+1)};return c.useEffect(()=>{const l=setInterval(()=>{h()},5e3);return()=>clearInterval(l)},[a,i.length]),e.jsxs(n.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.1},className:"interest-card movie-widget",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h2",{className:"widget-title",children:"经典观影"}),e.jsx("p",{className:"widget-desc",children:"一些深深打动我的电影，从救赎到荒诞到青春"})]}),i.length>0&&e.jsxs("div",{className:"relative max-w-4xl mx-auto",children:[e.jsxs("div",{className:"relative max-h-[80vh] flex items-center justify-center",children:[i.map((l,s)=>{if(s===a)return null;const o=Math.abs(s-a);if(o>3)return null;const r=s<a;return e.jsx(n.div,{initial:{opacity:0},animate:{opacity:.08/(o+1),x:r?-40*o:40*o,y:8*o,scale:1-.04*o,zIndex:i.length-o},transition:{duration:.5},className:"absolute max-h-[75vh] rounded-xl overflow-hidden shadow-xl",children:e.jsx("img",{src:l.poster,alt:l.title,className:"w-full h-full object-cover",loading:"lazy"})},`stack-${l.id}`)}),e.jsxs(n.div,{initial:{opacity:0,x:100,scale:.8},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:-100,scale:.8},transition:{duration:.5,type:"spring",stiffness:300,damping:30},className:"absolute max-h-[75vh] z-10 rounded-xl overflow-hidden shadow-2xl",children:[e.jsx("img",{src:i[a].poster,alt:i[a].title,className:"w-full h-full object-cover",loading:"lazy"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/60 to-transparent"}),e.jsxs("div",{className:"absolute inset-0 p-8 text-white flex flex-col justify-end",children:[e.jsxs("div",{className:"absolute top-8 right-8 bg-black/60 backdrop-blur-md px-4 py-2 rounded-full flex items-center gap-2",children:[e.jsx("span",{className:"text-yellow-400 text-xl",children:"★"}),e.jsx("span",{className:"text-lg font-bold",children:i[a].rating})]}),e.jsxs("div",{className:"max-w-3xl",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-3 flex-wrap",children:[e.jsx("span",{className:"text-sm bg-blue-600/80 backdrop-blur-md px-4 py-1 rounded-full",children:i[a].year}),i[a].director&&e.jsxs("span",{className:"text-sm bg-green-600/80 backdrop-blur-md px-4 py-1 rounded-full",children:["导演: ",i[a].director]})]}),e.jsx("h3",{className:"text-3xl md:text-5xl font-bold mb-4 leading-tight",children:i[a].title}),i[a].review&&e.jsx("p",{className:"text-lg md:text-xl opacity-90 mb-6 line-clamp-3 leading-relaxed",children:i[a].review}),e.jsxs(n.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>y(i[a].id),className:`flex items-center gap-2 px-8 py-4 bg-white/10 backdrop-blur-sm rounded-full text-base font-medium transition-all duration-300 shadow-md hover:shadow-lg transform hover:scale-105 group ${i[a].isLiked?"text-red-400":"text-white"}`,children:[e.jsx("span",{className:`transition-transform duration-300 ${i[a].isLiked?"scale-110":""}`,children:"❤️"}),e.jsxs("span",{children:[i[a].likes," 喜欢"]})]})]})]})]},`current-${i[a].id}`)]}),e.jsxs("div",{className:"flex justify-center gap-4 mt-8",children:[e.jsx(n.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:b,className:"bg-white/20 backdrop-blur-sm rounded-full p-3 text-white shadow-lg transition-all duration-300 hover:bg-white/30","aria-label":"Previous movie",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("polygon",{points:"15 18 9 12 15 6"})})}),e.jsx(n.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:h,className:"bg-white/20 backdrop-blur-sm rounded-full p-3 text-white shadow-lg transition-all duration-300 hover:bg-white/30","aria-label":"Next movie",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("polygon",{points:"9 18 15 12 9 6"})})})]}),e.jsx("div",{className:"flex justify-center gap-2 mt-6",children:i.map((l,s)=>e.jsx(n.button,{whileHover:{scale:1.2},whileTap:{scale:.8},onClick:()=>x(s),className:`w-3 h-3 rounded-full transition-all duration-300 ${s===a?"bg-white w-8":"bg-white/50"}`,"aria-label":`Go to movie ${s+1}`},s))})]})]})},$=()=>{const f=c.useRef(null),i=c.useRef(null),[u,a]=c.useState([]),[x,v]=c.useState(!0),[y,b]=c.useState(null),[h,l]=c.useState(null),s={mapType:"china",mapStyle:{areaColor:"rgba(176, 168, 185, 0.1)",borderColor:"rgba(176, 168, 185, 0.3)",labelColor:"rgba(255, 255, 255, 0.6)"},markerStyle:{size:16,color:"#b0a8b9",borderColor:"#ffffff"}};c.useEffect(()=>{(async()=>{try{v(!0);const m=localStorage.getItem("travelCityData");if(m){a(JSON.parse(m)),v(!1);return}const N=(await L.get("/travel-cities")).data.map(p=>({id:p.id,name:p.name,province:p.province,longitude:p.longitude,latitude:p.latitude,visitedAt:p.visited_at,note:p.note||"",photo:p.photo||"https://picsum.photos/seed/default/300/200",rating:p.rating||0}));localStorage.setItem("travelCityData",JSON.stringify(N)),a(N),v(!1)}catch(m){console.error("Failed to fetch city data:",m),a([{id:1,name:"杭州",province:"浙江",longitude:120.15,latitude:30.28,visitedAt:"2023-05-15",note:"西湖美景",photo:"https://picsum.photos/seed/hangzhou/300/200",rating:5},{id:2,name:"长沙",province:"湖南",longitude:112.94,latitude:28.22,visitedAt:"2023-08-20",note:"岳麓山和橘子洲头",photo:"https://picsum.photos/seed/changsha/300/200",rating:4},{id:3,name:"武汉",province:"湖北",longitude:114.31,latitude:30.52,visitedAt:"2023-10-05",note:"家乡，珞珈山下",photo:"https://picsum.photos/seed/wuhan/300/200",rating:5},{id:4,name:"北京",province:"北京",longitude:116.4,latitude:39.9,visitedAt:"2024-02-15",note:"故宫和长城",photo:"https://picsum.photos/seed/beijing/300/200",rating:5},{id:5,name:"上海",province:"上海",longitude:121.47,latitude:31.23,visitedAt:"2024-04-10",note:"外滩夜景",photo:"https://picsum.photos/seed/shanghai/300/200",rating:4},{id:6,name:"成都",province:"四川",longitude:104.07,latitude:30.67,visitedAt:"2024-06-25",note:"美食之都",photo:"https://picsum.photos/seed/chengdu/300/200",rating:5}]),b("Failed to fetch data from server, using default data."),v(!1)}})()},[]),c.useEffect(()=>{if(console.log("地图初始化开始"),console.log("地图容器:",f.current),console.log("城市数据数量:",u.length),!f.current||u.length===0){console.log("地图容器为空或城市数据为空，跳过初始化");return}(async()=>{try{console.log("开始加载echarts");const m=await C(()=>import("./index-C2GE3DAF.js"),[]);console.log("echarts加载成功:",m),console.log("开始初始化ECharts实例");const g=m.init(f.current);i.current=g,console.log("ECharts实例初始化成功"),(async()=>{try{console.log("开始加载地图数据");const w=localStorage.getItem("chinaMapData");console.log("localStorage中的地图数据:",w?"存在":"不存在");let j;if(w)console.log("使用缓存的地图数据"),j=JSON.parse(w);else{console.log("从CDN加载地图数据");const t=await fetch("https://cdn.jsdelivr.net/npm/echarts/map/json/china.json");console.log("地图数据请求响应:",t.status),j=await t.json(),console.log("地图数据加载成功，大小:",JSON.stringify(j).length),localStorage.setItem("chinaMapData",JSON.stringify(j)),console.log("地图数据已缓存到localStorage")}console.log("开始注册地图"),m.registerMap(s.mapType,j),console.log("地图注册成功"),console.log("开始创建地图配置选项");const k={backgroundColor:"transparent",tooltip:{trigger:"item",formatter:function(t){const d=u.find(S=>S.name===t.name);return d?`
                      <div style="padding: 8px;">
                        <h4 style="margin: 0 0 4px 0;">${d.name}</h4>
                        <p style="margin: 2px 0;">访问时间: ${new Date(d.visitedAt).toLocaleDateString()}</p>
                        <p style="margin: 2px 0;">评分: ${"★".repeat(Math.floor(d.rating))}${"☆".repeat(5-Math.floor(d.rating))}</p>
                        <p style="margin: 2px 0;">${d.note}</p>
                      </div>
                    `:t.name}},geo:{map:s.mapType,roam:!0,emphasis:{label:{show:!0,color:s.mapStyle.labelColor},itemStyle:{areaColor:"rgba(176, 168, 185, 0.3)"}},itemStyle:{areaColor:s.mapStyle.areaColor,borderColor:s.mapStyle.borderColor,borderWidth:1},label:{show:!0,color:s.mapStyle.labelColor,fontSize:12},zoom:1.2},series:[{name:"城市标记",type:"scatter",coordinateSystem:"geo",data:u.map(t=>({name:t.name,value:[t.longitude,t.latitude,t.rating],cityData:t})),symbol:"circle",symbolSize:s.markerStyle.size,itemStyle:{color:s.markerStyle.color,borderColor:s.markerStyle.borderColor,borderWidth:2},emphasis:{itemStyle:{color:"#ffffff",shadowBlur:15,shadowColor:"#b0a8b9"},label:{show:!0,formatter:function(t){return t.name},color:"#ffffff",fontSize:14,fontWeight:"bold"}},zlevel:2}]};console.log("地图配置选项创建成功"),console.log("开始设置图表选项"),g.setOption(k),console.log("图表选项设置成功"),g.on("click","series",function(t){t.data&&t.data.cityData&&l(t.data.cityData)})}catch(w){console.error("加载地图数据失败:",w),b("Failed to load map data.")}})();const p=()=>{g.resize()};return window.addEventListener("resize",p),console.log("添加了窗口大小调整监听器"),()=>{console.log("执行地图清理函数"),window.removeEventListener("resize",p),g.dispose(),i.current=null,console.log("地图清理完成")}}catch(m){console.error("加载echarts失败:",m),b("Failed to load map chart.")}})()},[u,s]);const o=()=>{l(null)};return e.jsxs(n.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"interest-card travel-widget",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"widget-title",children:"旅行足迹 · 中国地图"}),e.jsx("p",{className:"widget-desc",children:"用脚丈量的风景，记录走过的每一座城"})]}),e.jsx("div",{className:"map-container mb-12 relative",children:x?e.jsx("div",{className:"flex items-center justify-center h-96 text-gray-400",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 border-4 border-gray-500 border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"地图加载中..."})]})}):y?e.jsx("div",{className:"flex items-center justify-center h-96 text-gray-400",children:e.jsx("span",{children:y})}):e.jsx("div",{ref:f,id:"china-map",style:{height:"400px",width:"100%",backgroundColor:"rgba(176, 168, 185, 0.05)",borderRadius:"8px",overflow:"hidden"}})}),h&&e.jsx(n.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"fixed inset-0 flex items-center justify-center z-50 bg-black/50 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-gray-800 rounded-xl overflow-hidden shadow-2xl max-w-2xl w-full mx-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:h.photo,alt:h.name,className:"w-full h-64 object-contain bg-black"}),e.jsx("button",{onClick:o,className:"absolute top-4 right-4 bg-white/20 backdrop-blur-sm w-8 h-8 rounded-full flex items-center justify-center text-white hover:bg-white/40 transition-colors",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:h.name}),e.jsx("p",{className:"text-gray-400 text-sm mb-4",children:h.province}),e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("span",{className:"text-sm bg-blue-600/80 backdrop-blur-md px-4 py-1 rounded-full",children:new Date(h.visitedAt).toLocaleDateString()}),e.jsxs("span",{className:"text-sm bg-yellow-600/80 backdrop-blur-md px-4 py-1 rounded-full",children:["★".repeat(Math.floor(h.rating)),"☆".repeat(5-Math.floor(h.rating))]})]}),e.jsx("p",{className:"text-gray-300 text-base mb-6 leading-relaxed",children:h.note}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:o,className:"px-6 py-2 bg-white/10 rounded-full text-sm transition-all duration-300 hover:bg-white/20",children:"关闭"})})]})]})}),e.jsxs("div",{className:"mb-12",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:"城市列表"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map(r=>e.jsxs(n.div,{whileHover:{y:-5},className:"bg-white/5 backdrop-blur-sm rounded-lg p-4 hover:shadow-xl transition-all duration-300",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("img",{src:r.photo,alt:r.name,className:"w-16 h-16 object-contain bg-black rounded"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-white",children:r.name}),e.jsx("p",{className:"text-gray-400 text-xs",children:r.province}),e.jsx("p",{className:"text-gray-400 text-sm mt-1",children:new Date(r.visitedAt).toLocaleDateString()}),e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsx("span",{className:"text-yellow-400 text-sm",children:"★".repeat(Math.floor(r.rating))}),e.jsx("span",{className:"text-gray-500 text-sm",children:"☆".repeat(5-Math.floor(r.rating))})]})]})]}),e.jsx("p",{className:"text-gray-300 text-sm mt-3 line-clamp-2",children:r.note})]},r.id))})]})]})};function W(){return c.useEffect(()=>{sessionStorage.getItem("visited_interests")||(L.post("/site-config/view").catch(()=>{}),sessionStorage.setItem("visited_interests","true"))},[]),e.jsxs("div",{className:"interests-page overflow-x-hidden",children:[e.jsx("div",{className:"background-texture"}),e.jsx("section",{className:"hero-section",children:e.jsxs("div",{className:"hero-content",children:[e.jsx(n.h1,{className:"hero-title",initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},children:"日常与兴趣"}),e.jsx(n.p,{className:"hero-subtitle",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2,ease:"easeOut"},children:"生活碎片：最近在听的歌、看过的电影、去过的地方"}),e.jsx(n.div,{className:"hero-photo",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.8,delay:.4,ease:"easeOut"}})]})}),e.jsxs("main",{className:"main-content",children:[e.jsx(n.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-80px"},transition:{duration:.8,ease:"easeOut"},children:e.jsx(D,{})}),e.jsx(n.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-80px"},transition:{duration:.8,delay:.1,ease:"easeOut"},children:e.jsx(M,{})}),e.jsx(n.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-80px"},transition:{duration:.8,delay:.2,ease:"easeOut"},children:e.jsx($,{})})]})]})}export{W as default};
