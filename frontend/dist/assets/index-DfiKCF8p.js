import{r as s,a as O,m as _}from"./index-BhbzFmRm.js";import{I as Q,i as st,w as rt,d as ke,K as fe,e as at,P as ct,C as it,f as lt,g as ut,m as mt,F as ne,u as ft,b as Ye,h as De,c as He}from"./index-CEnH4XFE.js";import{u as de,h as dt,i as gt}from"./index-kBbHJYa7.js";import{u as pt,R as ge,a as pe}from"./Table-B3Aa-BfP.js";var vt={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"bars",theme:"outlined"};function ve(){return ve=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},ve.apply(this,arguments)}const ht=(t,e)=>s.createElement(Q,ve({},t,{ref:e,icon:vt})),cn=s.forwardRef(ht);var wt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M464 144H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H212V212h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H612V212h200v200zM464 544H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H212V612h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H612V612h200v200z"}}]},name:"appstore",theme:"outlined"};function he(){return he=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},he.apply(this,arguments)}const Ct=(t,e)=>s.createElement(Q,he({},t,{ref:e,icon:wt})),ln=s.forwardRef(Ct);var bt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"}}]},name:"menu",theme:"outlined"};function we(){return we=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},we.apply(this,arguments)}const yt=(t,e)=>s.createElement(Q,we({},t,{ref:e,icon:bt})),un=s.forwardRef(yt);var xt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"};function Ce(){return Ce=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Ce.apply(this,arguments)}const It=(t,e)=>s.createElement(Q,Ce({},t,{ref:e,icon:xt})),Et=s.forwardRef(It);var St={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"};function be(){return be=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},be.apply(this,arguments)}const Mt=(t,e)=>s.createElement(Q,be({},t,{ref:e,icon:St})),Nt=s.forwardRef(Mt);var Ot={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M847.9 592H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h605.2L612.9 851c-4.1 5.2-.4 13 6.3 13h72.5c4.9 0 9.5-2.2 12.6-6.1l168.8-214.1c16.5-21 1.6-51.8-25.2-51.8zM872 356H266.8l144.3-183c4.1-5.2.4-13-6.3-13h-72.5c-4.9 0-9.5 2.2-12.6 6.1L150.9 380.2c-16.5 21-1.6 51.8 25.1 51.8h696c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"swap",theme:"outlined"};function ye(){return ye=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},ye.apply(this,arguments)}const Rt=(t,e)=>s.createElement(Q,ye({},t,{ref:e,icon:Ot})),je=s.forwardRef(Rt);var $t={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"};function xe(){return xe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},xe.apply(this,arguments)}const Pt=(t,e)=>s.createElement(Q,xe({},t,{ref:e,icon:$t})),Lt=s.forwardRef(Pt);var zt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"};function Ie(){return Ie=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Ie.apply(this,arguments)}const jt=(t,e)=>s.createElement(Q,Ie({},t,{ref:e,icon:zt})),At=s.forwardRef(jt),ue=s.createContext(null);function Tt(t){return new Promise(e=>{if(!t){e(!1);return}const n=document.createElement("img");n.onerror=()=>e(!1),n.onload=()=>e(!0),n.src=t})}function Xe(){const t=document.documentElement.clientWidth,e=window.innerHeight||document.documentElement.clientHeight;return{width:t,height:e}}const ae={x:0,y:0,rotate:0,scale:1,flipX:!1,flipY:!1};function kt(t,e,n,o){const c=s.useRef(null),r=s.useRef([]),[a,u]=s.useState(ae),f=d=>{u(ae),st(ae,a)||o==null||o({transform:ae,action:d})},m=(d,b)=>{c.current===null&&(r.current=[],c.current=rt(()=>{u(h=>{let g=h;return r.current.forEach(w=>{g={...g,...w}}),c.current=null,o==null||o({transform:g,action:b}),g})})),r.current.push({...a,...d})};return{transform:a,resetTransform:f,updateTransform:m,dispatchZoomChange:(d,b,h,g,w)=>{const{width:C,height:I,offsetWidth:i,offsetHeight:l,offsetLeft:E,offsetTop:y}=t.current;let x=d,v=a.scale*d;v>n?(v=n,x=n/a.scale):v<e&&(v=w?v:e,x=v/a.scale);const R=h??innerWidth/2,$=g??innerHeight/2,S=x-1,P=S*C*.5,j=S*I*.5,T=S*(R-a.x-E),k=S*($-a.y-y);let z=a.x-(T-P),N=a.y-(k-j);if(d<1&&v===1){const D=i*v,H=l*v,{width:A,height:M}=Xe();D<=A&&H<=M&&(z=0,N=0)}m({x:z,y:N,scale:v},b)}}}function Ae(t,e,n,o){const c=e+n,r=(n-o)/2;if(n>o){if(e>0)return{[t]:r};if(e<0&&c<o)return{[t]:-r}}else if(e<0||c>o)return{[t]:e<0?r:-r};return{}}function Be(t,e,n,o){const{width:c,height:r}=Xe();let a=null;return t<=c&&e<=r?a={x:0,y:0}:(t>c||e>r)&&(a={...Ae("x",n,t,c),...Ae("y",o,e,r)}),a}const te=1,Yt=1;function Dt(t,e,n,o,c,r,a){const{rotate:u,scale:f,x:m,y:p}=c,[d,b]=s.useState(!1),h=s.useRef({diffX:0,diffY:0,transformX:0,transformY:0}),g=i=>{!e||i.button!==0||(i.preventDefault(),i.stopPropagation(),h.current={diffX:i.pageX-m,diffY:i.pageY-p,transformX:m,transformY:p},b(!0))},w=i=>{n&&d&&r({x:i.pageX-h.current.diffX,y:i.pageY-h.current.diffY},"move")},C=()=>{if(n&&d){b(!1);const{transformX:i,transformY:l}=h.current;if(!(m!==i&&p!==l))return;const y=t.current.offsetWidth*f,x=t.current.offsetHeight*f,{left:v,top:R}=t.current.getBoundingClientRect(),$=u%180!==0,S=Be($?x:y,$?y:x,v,R);S&&r({...S},"dragRebound")}},I=i=>{if(!n||i.deltaY==0)return;const l=Math.abs(i.deltaY/100),E=Math.min(l,Yt);let y=te+E*o;i.deltaY>0&&(y=te/y),a(y,"wheel",i.clientX,i.clientY)};return s.useEffect(()=>{if(e){window.addEventListener("mouseup",C,!1),window.addEventListener("mousemove",w,!1);try{window.top!==window.self&&(window.top.addEventListener("mouseup",C,!1),window.top.addEventListener("mousemove",w,!1))}catch{}}return()=>{var i,l;window.removeEventListener("mouseup",C),window.removeEventListener("mousemove",w);try{(i=window.top)==null||i.removeEventListener("mouseup",C),(l=window.top)==null||l.removeEventListener("mousemove",w)}catch{}}},[n,d,m,p,u,e]),{isMoving:d,onMouseDown:g,onMouseMove:w,onMouseUp:C,onWheel:I}}function Ze({src:t,isCustomPlaceholder:e,fallback:n}){const[o,c]=s.useState(e?"loading":"normal"),r=s.useRef(!1),a=o==="error";s.useEffect(()=>{let p=!0;return Tt(t).then(d=>{!d&&p&&c("error")}),()=>{p=!1}},[t]),s.useEffect(()=>{e&&!r.current?c("loading"):a&&c("normal")},[t]);const u=()=>{c("normal")};return[p=>{r.current=!1,o==="loading"&&(p!=null&&p.complete)&&(p.naturalWidth||p.naturalHeight)&&(r.current=!0,u())},a&&n?{src:n}:{onLoad:u,src:t},o]}function ce(t,e){const n=t.x-e.x,o=t.y-e.y;return Math.hypot(n,o)}function Ht(t,e,n,o){const c=ce(t,n),r=ce(e,o);if(c===0&&r===0)return[t.x,t.y];const a=c/(c+r),u=t.x+a*(e.x-t.x),f=t.y+a*(e.y-t.y);return[u,f]}function Xt(t,e,n,o,c,r,a){const{rotate:u,scale:f,x:m,y:p}=c,[d,b]=s.useState(!1),h=s.useRef({point1:{x:0,y:0},point2:{x:0,y:0},eventType:"none"}),g=i=>{h.current={...h.current,...i}},w=i=>{if(!e)return;i.stopPropagation(),b(!0);const{touches:l=[]}=i;l.length>1?g({point1:{x:l[0].clientX,y:l[0].clientY},point2:{x:l[1].clientX,y:l[1].clientY},eventType:"touchZoom"}):g({point1:{x:l[0].clientX-m,y:l[0].clientY-p},eventType:"move"})},C=i=>{const{touches:l=[]}=i,{point1:E,point2:y,eventType:x}=h.current;if(l.length>1&&x==="touchZoom"){const v={x:l[0].clientX,y:l[0].clientY},R={x:l[1].clientX,y:l[1].clientY},[$,S]=Ht(E,y,v,R),P=ce(v,R)/ce(E,y);a(P,"touchZoom",$,S,!0),g({point1:v,point2:R,eventType:"touchZoom"})}else x==="move"&&(r({x:l[0].clientX-E.x,y:l[0].clientY-E.y},"move"),g({eventType:"move"}))},I=()=>{if(!n)return;if(d&&b(!1),g({eventType:"none"}),o>f)return r({x:0,y:0,scale:o},"touchZoom");const i=t.current.offsetWidth*f,l=t.current.offsetHeight*f,{left:E,top:y}=t.current.getBoundingClientRect(),x=u%180!==0,v=Be(x?l:i,x?i:l,E,y);v&&r({...v},"dragRebound")};return s.useEffect(()=>{const i=l=>{l.preventDefault()};return n&&e&&window.addEventListener("touchmove",i,{passive:!1}),()=>{window.removeEventListener("touchmove",i)}},[n,e]),{isTouching:d,onTouchStart:w,onTouchMove:C,onTouchEnd:I}}function Bt(t){const{prefixCls:e,icon:n,onClick:o}=t;return s.createElement("button",{className:`${e}-close`,onClick:o},n)}function Zt(t){const{prefixCls:e,showProgress:n,current:o,count:c,showSwitch:r,classNames:a,styles:u,icons:f,image:m,transform:p,countRender:d,actionsRender:b,scale:h,minScale:g,maxScale:w,onActive:C,onFlipY:I,onFlipX:i,onRotateLeft:l,onRotateRight:E,onZoomOut:y,onZoomIn:x,onClose:v,onReset:R}=t,{left:$,right:S,prev:P,next:j,flipY:T,flipX:k,rotateLeft:z,rotateRight:N,zoomOut:D,zoomIn:H}=f,A=n&&s.createElement("div",{className:`${e}-progress`},d?d(o+1,c):s.createElement("bdi",null,`${o+1} / ${c}`)),M=`${e}-actions-action`,L=({type:q,disabled:ee,onClick:me,icon:se})=>s.createElement("div",{key:q,className:O(M,`${M}-${q}`,{[`${M}-disabled`]:!!ee}),onClick:me},se),X=r?L({icon:P??$,onClick:()=>C(-1),type:"prev",disabled:o===0}):void 0,B=r?L({icon:j??S,onClick:()=>C(1),type:"next",disabled:o===c-1}):void 0,F=L({icon:T,onClick:I,type:"flipY"}),G=L({icon:k,onClick:i,type:"flipX"}),K=L({icon:z,onClick:l,type:"rotateLeft"}),Y=L({icon:N,onClick:E,type:"rotateRight"}),Z=L({icon:D,onClick:y,type:"zoomOut",disabled:h<=g}),J=L({icon:H,onClick:x,type:"zoomIn",disabled:h===w}),U=s.createElement("div",{className:O(`${e}-actions`,a.actions),style:u.actions},F,G,K,Y,Z,J);return s.createElement("div",{className:O(`${e}-footer`,a.footer),style:u.footer},A,b?b(U,{icons:{prevIcon:X,nextIcon:B,flipYIcon:F,flipXIcon:G,rotateLeftIcon:K,rotateRightIcon:Y,zoomOutIcon:Z,zoomInIcon:J},actions:{onActive:C,onFlipY:I,onFlipX:i,onRotateLeft:l,onRotateRight:E,onZoomOut:y,onZoomIn:x,onReset:R,onClose:v},transform:p,current:o,total:c,image:m}):U)}function Vt(t){const{prefixCls:e,onActive:n,current:o,count:c,icons:{left:r,right:a,prev:u,next:f}}=t,m=`${e}-switch`;return s.createElement(s.Fragment,null,s.createElement("div",{className:O(m,`${m}-prev`,{[`${m}-disabled`]:o===0}),onClick:()=>n(-1)},u??r),s.createElement("div",{className:O(m,`${m}-next`,{[`${m}-disabled`]:o===c-1}),onClick:()=>n(1)},f??a))}function ie(){return ie=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},ie.apply(this,arguments)}const _t=({fallback:t,src:e,imgRef:n,...o})=>{const[c,r]=Ze({src:e,fallback:t});return _.createElement("img",ie({ref:a=>{n.current=a,c(a)}},o,r))},Ve=t=>{const{prefixCls:e,rootClassName:n,src:o,alt:c,imageInfo:r,fallback:a,movable:u=!0,onClose:f,open:m,afterOpenChange:p,icons:d={},closeIcon:b,getContainer:h,current:g=0,count:w=1,countRender:C,scaleStep:I=.5,minScale:i=1,maxScale:l=50,motionName:E="fade",imageRender:y,imgCommonProps:x,actionsRender:v,onTransform:R,onChange:$,classNames:S={},styles:P={},mousePosition:j,zIndex:T}=t,k=s.useRef(),z=s.useContext(ue),N=z&&w>1,D=z&&w>=1,[H,A]=s.useState(!0),{transform:M,resetTransform:L,updateTransform:X,dispatchZoomChange:B}=kt(k,i,l,R),{isMoving:F,onMouseDown:G,onWheel:K}=Dt(k,u,m,I,M,X,B),{isTouching:Y,onTouchStart:Z,onTouchMove:J,onTouchEnd:U}=Xt(k,u,m,i,M,X,B),{rotate:q,scale:ee}=M;s.useEffect(()=>{H||A(!0)},[H]),s.useEffect(()=>{m||L("close")},[m]);const me=V=>{m&&(ee!==1?X({x:0,y:0,scale:1},"doubleClick"):B(te+I,"doubleClick",V.clientX,V.clientY))},se=_.createElement(_t,ie({},x,{width:t.width,height:t.height,imgRef:k,className:`${e}-img`,alt:c,style:{transform:`translate3d(${M.x}px, ${M.y}px, 0) scale3d(${M.flipX?"-":""}${ee}, ${M.flipY?"-":""}${ee}, 1) rotate(${q}deg)`,transitionDuration:(!H||Y)&&"0s"},fallback:a,src:o,onWheel:K,onMouseDown:G,onDoubleClick:me,onTouchStart:Z,onTouchMove:J,onTouchEnd:U,onTouchCancel:U})),Oe={url:o,alt:c,...r},Ge=()=>{B(te+I,"zoomIn")},Ue=()=>{B(te/(te+I),"zoomOut")},Qe=()=>{X({rotate:q+90},"rotateRight")},Je=()=>{X({rotate:q-90},"rotateLeft")},Ke=()=>{X({flipX:!M.flipX},"flipX")},qe=()=>{X({flipY:!M.flipY},"flipY")},et=()=>{L("reset")},re=V=>{const W=g+V;W>=0&&W<=w-1&&(A(!1),L(V<0?"prev":"next"),$==null||$(W,g))},Re=ke(V=>{if(m){const{keyCode:W}=V;W===fe.ESC&&(f==null||f()),N&&(W===fe.LEFT?re(-1):W===fe.RIGHT&&re(1))}});s.useEffect(()=>{if(m)return window.addEventListener("keydown",Re),()=>{window.removeEventListener("keydown",Re)}},[m]);const[tt,$e]=s.useState(!1);_.useEffect(()=>{m&&$e(!0)},[m]);const nt=V=>{V||$e(!1),p==null||p(V)},[Pe,ot]=s.useState(!1);at(()=>{m&&ot(!0)},[m]);const Le={...P.body};return j&&(Le.transformOrigin=`${j.x}px ${j.y}px`),_.createElement(ct,{open:Pe,getContainer:h,autoLock:tt},_.createElement(it,{motionName:E,visible:Pe&&m,motionAppear:!0,motionEnter:!0,motionLeave:!0,onVisibleChanged:nt},({className:V,style:W})=>{const ze={...P.root,...W};return T&&(ze.zIndex=T),_.createElement("div",{className:O(e,n,S.root,V,{[`${e}-moving`]:F}),style:ze},_.createElement("div",{className:O(`${e}-mask`,S.mask),style:P.mask,onClick:f}),_.createElement("div",{className:O(`${e}-body`,S.body),style:Le},y?y(se,{transform:M,image:Oe,...z?{current:g}:{}}):se),b!==!1&&b!==null&&_.createElement(Bt,{prefixCls:e,icon:b===!0?d.close:b||d.close,onClick:f}),N&&_.createElement(Vt,{prefixCls:e,current:g,count:w,icons:d,onActive:re}),_.createElement(Zt,{prefixCls:e,showProgress:D,current:g,count:w,showSwitch:N,classNames:S,styles:P,image:Oe,transform:M,icons:d,countRender:C,actionsRender:v,scale:ee,minScale:i,maxScale:l,onActive:re,onFlipY:qe,onFlipX:Ke,onRotateLeft:Je,onRotateRight:Qe,onZoomOut:Ue,onZoomIn:Ge,onClose:f,onReset:et}))}))},Ee=["crossOrigin","decoding","draggable","loading","referrerPolicy","sizes","srcSet","useMap","alt"];function Wt(t){const[e,n]=s.useState({}),o=s.useCallback((r,a)=>(n(u=>({...u,[r]:a})),()=>{n(u=>{const f={...u};return delete f[r],f})}),[]);return[s.useMemo(()=>t?t.map(r=>{if(typeof r=="string")return{data:{src:r}};const a={};return Object.keys(r).forEach(u=>{["src",...Ee].includes(u)&&(a[u]=r[u])}),{data:a}}):Object.keys(e).reduce((r,a)=>{const{canPreview:u,data:f}=e[a];return u&&r.push({data:f,id:a}),r},[]),[t,e]),o,!!t]}function Se(){return Se=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Se.apply(this,arguments)}const Ft=({previewPrefixCls:t="rc-image-preview",classNames:e,styles:n,children:o,icons:c={},items:r,preview:a,fallback:u})=>{var z;const{open:f,onOpenChange:m,current:p,onChange:d,...b}=a&&typeof a=="object"?a:{},[h,g,w]=Wt(r),[C,I]=de(0,p),[i,l]=s.useState(!1),{src:E,...y}=((z=h[C])==null?void 0:z.data)||{},[x,v]=de(!!f,f),R=ke(N=>{v(N),N!==x&&(m==null||m(N,{current:C}))}),[$,S]=s.useState(null),P=s.useCallback((N,D,H,A)=>{const M=w?h.findIndex(L=>L.data.src===D):h.findIndex(L=>L.id===N);I(M<0?0:M),R(!0),S({x:H,y:A}),l(!0)},[h,w]);s.useEffect(()=>{x?i||I(0):l(!1)},[x]);const j=(N,D)=>{I(N),d==null||d(N,D)},T=()=>{R(!1),S(null)},k=s.useMemo(()=>({register:g,onPreview:P}),[g,P]);return s.createElement(ue.Provider,{value:k},o,s.createElement(Ve,Se({"aria-hidden":!x,open:x,prefixCls:t,onClose:T,mousePosition:$,imgCommonProps:y,src:E,fallback:u,icons:c,current:C,count:h.length,onChange:j},b,{classNames:e==null?void 0:e.popup,styles:n==null?void 0:n.popup})))};let Te=0;function Gt(t,e){const[n]=s.useState(()=>(Te+=1,String(Te))),o=s.useContext(ue),c={data:e,canPreview:t};return s.useEffect(()=>{if(o)return o.register(n,c)},[]),s.useEffect(()=>{o&&o.register(n,c)},[t,e]),n}function oe(){return oe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},oe.apply(this,arguments)}const Ne=t=>{const{prefixCls:e="rc-image",previewPrefixCls:n=`${e}-preview`,rootClassName:o,className:c,style:r,classNames:a={},styles:u={},width:f,height:m,src:p,alt:d,placeholder:b,fallback:h,preview:g=!0,onClick:w,onError:C,...I}=t,i=s.useContext(ue),l=!!g,{src:E,open:y,onOpenChange:x,cover:v,rootClassName:R,...$}=g&&typeof g=="object"?g:{},S=typeof v=="object"&&v.placement&&v.placement||"center",P=typeof v=="object"&&v.coverNode?v.coverNode:v,[j,T]=de(!!y,y),[k,z]=s.useState(null),N=Y=>{T(Y),x==null||x(Y)},D=()=>{N(!1)},H=b&&b!==!0,A=E??p,[M,L,X]=Ze({src:p,isCustomPlaceholder:H,fallback:h}),B=s.useMemo(()=>{const Y={};return Ee.forEach(Z=>{t[Z]!==void 0&&(Y[Z]=t[Z])}),Y},Ee.map(Y=>t[Y])),F=s.useMemo(()=>({...B,src:A}),[A,B]),G=Gt(l,F),K=Y=>{const Z=Y.target.getBoundingClientRect(),J=Z.x+Z.width/2,U=Z.y+Z.height/2;i?i.onPreview(G,A,J,U):(z({x:J,y:U}),N(!0)),w==null||w(Y)};return s.createElement(s.Fragment,null,s.createElement("div",oe({},I,{className:O(e,o,a.root,{[`${e}-error`]:X==="error"}),onClick:l?K:w,style:{width:f,height:m,...u.root}}),s.createElement("img",oe({},B,{className:O(`${e}-img`,{[`${e}-img-placeholder`]:b===!0},a.image,c),style:{height:m,...u.image,...r},ref:M},L,{width:f,height:m,onError:C})),X==="loading"&&s.createElement("div",{"aria-hidden":"true",className:`${e}-placeholder`},b),v!==!1&&l&&s.createElement("div",{className:O(`${e}-cover`,a.cover,`${e}-cover-${S}`),style:{display:(r==null?void 0:r.display)==="none"?"none":void 0,...u.cover}},P)),!i&&l&&s.createElement(Ve,oe({"aria-hidden":!j,open:j,prefixCls:n,onClose:D,mousePosition:k,src:A,alt:d,imageInfo:{width:f,height:m},fallback:h,imgCommonProps:B},$,{classNames:a==null?void 0:a.popup,styles:u==null?void 0:u.popup,rootClassName:O(R,o)})))};Ne.PreviewGroup=Ft;const _e=(t,e,n,o,c,r,a)=>{const[u]=lt("ImagePreview",t==null?void 0:t.zIndex),[f,m]=pt(t==null?void 0:t.mask,e==null?void 0:e.mask,`${n}-preview`);return _.useMemo(()=>{if(!t)return t;const{cover:p,getContainer:d,closeIcon:b,rootClassName:h}=t,{closeIcon:g}=e??{};return{motionName:dt(`${n}-preview`,"fade"),...t,...a?{cover:p??a}:{},icons:r,getContainer:d??c,zIndex:u,closeIcon:b??g,rootClassName:O(o,h),mask:f,blurClassName:m.mask}},[t,e,n,o,c,a,r,u,f,m])};function Ut(t){return s.isValidElement(t)?[t,void 0]:typeof t=="boolean"||t&&typeof t=="object"?[void 0,t]:[void 0,void 0]}function le(t){const e=s.useMemo(()=>typeof t=="boolean"?t?{}:null:t&&typeof t=="object"?t:{},[t]);return s.useMemo(()=>{if(!e)return[e,"",""];const{open:o,onOpenChange:c,cover:r,actionsRender:a,visible:u,onVisibleChange:f,rootClassName:m,maskClassName:p,mask:d,forceRender:b,destroyOnClose:h,toolbarRender:g,...w}=e;let C;c?C=c:f&&(C=(l,E)=>{const{current:y}=E||{};y!==void 0?f(l,!l,y):f(l,!l)});const[I,i]=Ut(d);return[{...w,open:o??u,onOpenChange:C,cover:r??I,mask:i,actionsRender:a??g},m,p]},[e])}const We=t=>({position:t||"absolute",inset:0}),Qt=t=>{const{componentCls:e,motionDurationSlow:n,colorTextLightSolid:o}=t;return{[e]:{[`${e}-cover`]:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:o,background:new ne("#000").setA(.3).toRgbString(),cursor:"pointer",opacity:0,transition:`opacity ${n}`},"&:hover":{[`${e}-cover`]:{opacity:1}},[`${e}-cover-top`]:{inset:"0 0 auto 0",justifyContent:"center"},[`${e}-cover-bottom`]:{inset:"auto 0 0 0",justifyContent:"center"}}}},Jt=t=>{const{motionEaseOut:e,previewCls:n,motionDurationSlow:o,componentCls:c,colorBgMask:r,marginXL:a,marginSM:u,margin:f,colorTextLightSolid:m,paddingSM:p,paddingLG:d,previewOperationHoverColor:b,previewOperationColorDisabled:h,previewOperationSize:g,zIndexPopup:w}=t,C=new ne(r).setA(.1),I=C.clone().setA(.2),i={position:"absolute",color:m,backgroundColor:C.toRgbString(),borderRadius:"50%",padding:p,outline:0,border:0,cursor:"pointer",transition:`all ${o}`,display:"flex",fontSize:g,"&:hover":{backgroundColor:I.toRgbString()},"&:active":{backgroundColor:C.toRgbString()}};return{[`${c}-preview`]:{textAlign:"center",inset:0,position:"fixed",userSelect:"none",zIndex:w,[`${n}-mask`]:{inset:0,position:"absolute",background:r,[`&${c}-preview-mask-blur`]:{backdropFilter:"blur(4px)"},[`&${c}-preview-mask-hidden`]:{display:"none"}},[`${n}-body`]:{...We(),"pointer-events":"none",display:"flex",alignItems:"center",justifyContent:"center","> *":{pointerEvents:"auto"}},[`${n}-img`]:{maxWidth:"100%",maxHeight:"70%",verticalAlign:"middle",transform:"scale3d(1, 1, 1)",cursor:"grab",transition:`transform ${o} ${e} 0s`},[`&-moving ${n}-img`]:{cursor:"grabbing"},[`${n}-close`]:{...i,top:u,insetInlineEnd:u},[`${n}-switch`]:{...i,top:"50%",transform:"translateY(-50%)","&-disabled":{"&, &:hover, &:active":{color:h,background:"transparent",cursor:"not-allowed"}},"&-prev":{insetInlineStart:u},"&-next":{insetInlineEnd:u}},[`${n}-footer`]:{position:"absolute",bottom:a,left:{_skip_check_:!0,value:"50%"},display:"flex",flexDirection:"column",alignItems:"center",color:t.previewOperationColor,transform:"translateX(-50%)",gap:f},[`${n}-actions`]:{display:"flex",gap:p,padding:`0 ${ft(d)}`,backgroundColor:C.toRgbString(),borderRadius:100,fontSize:g,"&-action":{padding:p,cursor:"pointer",transition:`all ${o}`,display:"flex",[`&:not(${n}-actions-action-disabled):hover`]:{color:b},"&-disabled":{color:h,cursor:"not-allowed"}}}}}},Kt=t=>{const{componentCls:e}=t;return{[e]:{position:"relative",display:"inline-block",[`${e}-img`]:{width:"100%",height:"auto",verticalAlign:"middle"},[`${e}-img-placeholder`]:{backgroundColor:t.colorBgContainerDisabled,backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTQuNSAyLjVoLTEzQS41LjUgMCAwIDAgMSAzdjEwYS41LjUgMCAwIDAgLjUuNWgxM2EuNS41IDAgMCAwIC41LS41VjNhLjUuNSAwIDAgMC0uNS0uNXpNNS4yODEgNC43NWExIDEgMCAwIDEgMCAyIDEgMSAwIDAgMSAwLTJ6bTguMDMgNi44M2EuMTI3LjEyNyAwIDAgMS0uMDgxLjAzSDIuNzY5YS4xMjUuMTI1IDAgMCAxLS4wOTYtLjIwN2wyLjY2MS0zLjE1NmEuMTI2LjEyNiAwIDAgMSAuMTc3LS4wMTZsLjAxNi4wMTZMNy4wOCAxMC4wOWwyLjQ3LTIuOTNhLjEyNi4xMjYgMCAwIDEgLjE3Ny0uMDE2bC4wMTUuMDE2IDMuNTg4IDQuMjQ0YS4xMjcuMTI3IDAgMCAxLS4wMi4xNzV6IiBmaWxsPSIjOEM4QzhDIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4=')",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"30%"},[`${e}-placeholder`]:{...We()}}}},qt=t=>{const{previewCls:e,motionDurationSlow:n}=t;return{[e]:{"&-fade":{transition:`opacity ${n}`,"&-enter, &-appear":{opacity:0,[`${e}-body`]:{transform:"scale(0)"},"&-active":{opacity:1,[`${e}-body`]:{transform:"scale(1)",transition:`transform ${n}`}}},"&-leave":{opacity:1,"&-active":{opacity:0,[`${e}-body`]:{transform:"scale(0)",transition:`transform ${n}`}}}}}}},en=t=>({zIndexPopup:t.zIndexPopupBase+80,previewOperationColor:new ne(t.colorTextLightSolid).setA(.65).toRgbString(),previewOperationHoverColor:new ne(t.colorTextLightSolid).setA(.85).toRgbString(),previewOperationColorDisabled:new ne(t.colorTextLightSolid).setA(.25).toRgbString(),previewOperationSize:t.fontSizeIcon*1.5}),Fe=ut("Image",t=>{const e=`${t.componentCls}-preview`,n=mt(t,{previewCls:e,imagePreviewSwitchSize:t.controlHeightLG});return[Kt(n),Qt(n),Jt(n),qt(n)]},en),Me={rotateLeft:s.createElement(Et,null),rotateRight:s.createElement(Nt,null),zoomIn:s.createElement(Lt,null),zoomOut:s.createElement(At,null),close:s.createElement(gt,null),left:s.createElement(pe,null),right:s.createElement(ge,null),flipX:s.createElement(je,null),flipY:s.createElement(je,{rotate:90})},tn=({previewPrefixCls:t,preview:e,classNames:n,styles:o,...c})=>{const{getPrefixCls:r,getPopupContainer:a,direction:u,preview:f,classNames:m,styles:p}=Ye("image"),d=r("image",t),b=`${d}-preview`,h=De(d),[g,w]=Fe(d,h),C=O(g,w,h),[I,i,l]=le(e),[E,y,x]=le(f),v=s.useMemo(()=>({...Me,left:u==="rtl"?s.createElement(ge,null):s.createElement(pe,null),right:u==="rtl"?s.createElement(pe,null):s.createElement(ge,null)}),[u]),R=_e(I,E,d,C,a,Me),{mask:$,blurClassName:S}=R??{},P={...c,classNames:n,styles:o},[j,T]=He([m,n,{cover:O(x,l),popup:{root:O(y,i),mask:O({[`${d}-preview-mask-hidden`]:!$},S)}}],[p,o],{props:P},{popup:{_default:"root"}});return s.createElement(Ne.PreviewGroup,{preview:R,previewPrefixCls:b,icons:v,...c,classNames:j,styles:T})},nn=t=>{const{prefixCls:e,preview:n,className:o,rootClassName:c,style:r,styles:a,classNames:u,wrapperStyle:f,fallback:m,...p}=t,{getPrefixCls:d,getPopupContainer:b,className:h,style:g,preview:w,styles:C,classNames:I,fallback:i}=Ye("image"),l=d("image",e),E=De(l),[y,x]=Fe(l,E),v=O(c,y,x,E),R=O(o,y,h),[$,S,P]=le(n),[j,T,k]=le(w),z=_e($,j,l,v,b,Me,!0),N={...t,preview:z},D=s.useMemo(()=>({cover:O(k,P),popup:{root:O(T,S)}}),[S,P,T,k]),{mask:H,blurClassName:A}=z??{},M=s.useMemo(()=>({mask:O({[`${l}-preview-mask-hidden`]:!H},A)}),[H,l,A]),L=s.useMemo(()=>[I,u,D,{popup:M}],[I,u,D,M]),[X,B]=He(L,[C,{root:f},a],{props:N},{popup:{_default:"root"}}),F={...g,...r},G=m??i;return s.createElement(Ne,{prefixCls:l,preview:z||!1,rootClassName:v,className:R,style:F,fallback:G,...p,classNames:X,styles:B})};nn.PreviewGroup=tn;export{nn as I,cn as R,ln as a,un as b};
