import{c as N,r as l,j as e,e as j,i as v}from"./index-BhbzFmRm.js";import{A as k}from"./arrow-left-4i2vtRcM.js";import{F as C,M as S}from"./index-BSgsXaog.js";import{S as L}from"./search-cTcYH268.js";import{P as I}from"./plus-D12x7VOR.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],T=N("trash",M),$=[{id:1,title:"欢迎使用 LiteNote",content:`# 欢迎使用 LiteNote!

在左侧编辑器开始输入，右侧预览将实时更新。

## 功能特性
- **实时预览**: 所见即所得
- **Markdown 支持**: 
  - *斜体* 和 **粗体**
  - 列表和 [链接](https://github.com)
  - 代码块

\`\`\`javascript
console.log('Hello World!');
\`\`\`

> "简约是极致的复杂。" - 达·芬奇`,date:"2023-10-24"},{id:2,title:"项目灵感",content:`# 项目灵感
1. AI 驱动的待办事项应用
2. 具有毛玻璃特效的天气仪表盘
3. 个人作品集网站`,date:"2023-10-25"}],W=()=>{const[a,i]=l.useState($),[s,c]=l.useState(1),[x,b]=l.useState(""),[d,h]=l.useState("edit"),[g,n]=l.useState(!0),o=a.find(t=>t.id===s)||a[0],y=t=>{i(a.map(r=>r.id===s?{...r,content:t}:r))},p=()=>{const t={id:Date.now(),title:"新建笔记",content:`# 新建笔记
开始写作...`,date:new Date().toISOString().split("T")[0]};i([t,...a]),c(t.id),window.innerWidth<768&&n(!1)},f=(t,r)=>{t.stopPropagation();const m=a.filter(w=>w.id!==r);i(m),s===r&&m.length>0&&c(m[0].id)},u=a.filter(t=>t.title.toLowerCase().includes(x.toLowerCase())||t.content.toLowerCase().includes(x.toLowerCase()));return e.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900 flex",children:[e.jsxs("aside",{className:`${g?"translate-x-0":"-translate-x-full"} md:translate-x-0 fixed md:static inset-y-0 left-0 w-80 bg-gray-50 dark:bg-gray-900 border-r border-gray-200 dark:border-gray-800 transition-transform duration-300 z-30 flex flex-col`,children:[e.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-800",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs(j,{to:"/",className:"flex items-center text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white transition-colors",children:[e.jsx(k,{className:"w-5 h-5 mr-2"}),"返回"]}),e.jsxs("div",{className:"flex items-center gap-2 font-bold text-gray-800 dark:text-white",children:[e.jsx(C,{className:"w-5 h-5 text-blue-600"}),"LiteNote"]})]}),e.jsxs("div",{className:"relative mb-4",children:[e.jsx(L,{className:"absolute left-3 top-2.5 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"搜索笔记...",value:x,onChange:t=>b(t.target.value),className:"w-full pl-9 pr-4 py-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none"})]}),e.jsxs("button",{onClick:p,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-2.5 rounded-lg flex items-center justify-center font-medium transition-colors",children:[e.jsx(I,{className:"w-4 h-4 mr-2"})," 新建笔记"]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:u.map(t=>e.jsxs("div",{onClick:()=>{c(t.id),window.innerWidth<768&&n(!1)},className:`p-4 border-b border-gray-100 dark:border-gray-800 cursor-pointer group hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors ${s===t.id?"bg-white dark:bg-gray-800 border-l-4 border-l-blue-600 shadow-sm":"border-l-4 border-l-transparent"}`,children:[e.jsxs("div",{className:"flex justify-between items-start mb-1",children:[e.jsx("h3",{className:`font-semibold text-sm truncate pr-2 ${s===t.id?"text-blue-600 dark:text-blue-400":"text-gray-700 dark:text-gray-300"}`,children:t.title}),e.jsx("button",{onClick:r=>f(r,t.id),className:"text-gray-400 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(T,{className:"w-3 h-3"})})]}),e.jsx("p",{className:"text-xs text-gray-400 line-clamp-2",children:t.content.replace(/[#*`]/g,"")}),e.jsx("span",{className:"text-[10px] text-gray-300 mt-2 block",children:t.date})]},t.id))})]}),e.jsxs("main",{className:"flex-1 flex flex-col h-screen overflow-hidden relative",children:[e.jsxs("header",{className:"md:hidden bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-4 py-3 flex items-center justify-between",children:[e.jsx("button",{onClick:()=>n(!g),children:e.jsx(v,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"})}),e.jsx("span",{className:"font-bold text-gray-800 dark:text-white truncate max-w-[200px]",children:o.title}),e.jsx("button",{className:"text-blue-600 font-medium text-sm",children:"保存"})]}),e.jsxs("div",{className:"hidden md:flex items-center justify-between px-6 py-4 border-b border-gray-200 dark:border-gray-800 bg-white dark:bg-gray-900",children:[e.jsx("div",{className:"flex items-center text-gray-400 text-sm",children:"最后编辑于今天"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>h("edit"),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${d==="edit"?"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white":"text-gray-500 hover:text-gray-700"}`,children:"编辑"}),e.jsx("button",{onClick:()=>h("preview"),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${d==="preview"?"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white":"text-gray-500 hover:text-gray-700"}`,children:"预览"})]})]}),e.jsxs("div",{className:"flex-1 flex overflow-hidden relative",children:[e.jsxs("div",{className:`flex-1 flex flex-col bg-white dark:bg-gray-900 ${d==="preview"?"hidden md:flex":"flex"}`,children:[e.jsx("input",{type:"text",value:o.title,onChange:t=>i(a.map(r=>r.id===s?{...r,title:t.target.value}:r)),className:"text-3xl font-bold px-8 pt-8 pb-4 border-none outline-none bg-transparent text-gray-900 dark:text-white placeholder-gray-300",placeholder:"笔记标题"}),e.jsx("textarea",{value:o.content,onChange:t=>y(t.target.value),className:"flex-1 w-full px-8 pb-8 resize-none outline-none font-mono text-base leading-relaxed text-gray-700 dark:text-gray-300 bg-transparent",placeholder:"开始写作..."})]}),e.jsx("div",{className:`flex-1 bg-gray-50 dark:bg-gray-800/50 overflow-auto px-8 py-8 border-l border-gray-200 dark:border-gray-800 ${d==="edit"?"hidden md:block":"block"}`,children:e.jsxs("article",{className:"prose dark:prose-invert max-w-none",children:[e.jsx("h1",{children:o.title}),e.jsx(S,{children:o.content})]})})]})]}),g&&e.jsx("div",{className:"md:hidden fixed inset-0 bg-black/50 z-20",onClick:()=>n(!1)})]})};export{W as default};
