import{r as s,a as $,m as _}from"./index-DA1mDptU.js";import{I as te,i as it,w as lt,e as Ye,K as de,f as ut,P as mt,h as ft,j as dt,g as De,m as gt,F as ne,u as pt,a as Se,k as Xe,d as Ne,l as He,C as Be,n as vt}from"./index-CcWkhPZ4.js";import{b as ce,g as ht,d as Ct,e as wt,B as xt,f as yt,h as bt,o as It}from"./index-BXfGwkoA.js";import{u as Et,R as ge,b as pe,A as St}from"./index-MtB7_Q9R.js";import{g as Ae,P as Nt,a as Pt}from"./index-CHqQizDv.js";var $t={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"};function ve(){return ve=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},ve.apply(this,arguments)}const Mt=(t,e)=>s.createElement(te,ve({},t,{ref:e,icon:$t})),bn=s.forwardRef(Mt);var Rt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"};function he(){return he=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},he.apply(this,arguments)}const Ot=(t,e)=>s.createElement(te,he({},t,{ref:e,icon:Rt})),Lt=s.forwardRef(Ot);var zt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"};function Ce(){return Ce=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Ce.apply(this,arguments)}const At=(t,e)=>s.createElement(te,Ce({},t,{ref:e,icon:zt})),jt=s.forwardRef(At);var kt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M847.9 592H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h605.2L612.9 851c-4.1 5.2-.4 13 6.3 13h72.5c4.9 0 9.5-2.2 12.6-6.1l168.8-214.1c16.5-21 1.6-51.8-25.2-51.8zM872 356H266.8l144.3-183c4.1-5.2.4-13-6.3-13h-72.5c-4.9 0-9.5 2.2-12.6 6.1L150.9 380.2c-16.5 21-1.6 51.8 25.1 51.8h696c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"swap",theme:"outlined"};function we(){return we=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},we.apply(this,arguments)}const Tt=(t,e)=>s.createElement(te,we({},t,{ref:e,icon:kt})),je=s.forwardRef(Tt);var Yt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"};function xe(){return xe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},xe.apply(this,arguments)}const Dt=(t,e)=>s.createElement(te,xe({},t,{ref:e,icon:Yt})),Xt=s.forwardRef(Dt);var Ht={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"};function ye(){return ye=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},ye.apply(this,arguments)}const Bt=(t,e)=>s.createElement(te,ye({},t,{ref:e,icon:Ht})),Zt=s.forwardRef(Bt),me=s.createContext(null);function Wt(t){return new Promise(e=>{if(!t){e(!1);return}const n=document.createElement("img");n.onerror=()=>e(!1),n.onload=()=>e(!0),n.src=t})}function Ze(){const t=document.documentElement.clientWidth,e=window.innerHeight||document.documentElement.clientHeight;return{width:t,height:e}}const ae={x:0,y:0,rotate:0,scale:1,flipX:!1,flipY:!1};function _t(t,e,n,o){const c=s.useRef(null),r=s.useRef([]),[a,i]=s.useState(ae),f=d=>{i(ae),it(ae,a)||o==null||o({transform:ae,action:d})},u=(d,x)=>{c.current===null&&(r.current=[],c.current=lt(()=>{i(C=>{let p=C;return r.current.forEach(v=>{p={...p,...v}}),c.current=null,o==null||o({transform:p,action:x}),p})})),r.current.push({...a,...d})};return{transform:a,resetTransform:f,updateTransform:u,dispatchZoomChange:(d,x,C,p,v)=>{const{width:h,height:S,offsetWidth:l,offsetHeight:m,offsetLeft:I,offsetTop:b}=t.current;let E=d,w=a.scale*d;w>n?(w=n,E=n/a.scale):w<e&&(w=v?w:e,E=w/a.scale);const R=C??innerWidth/2,O=p??innerHeight/2,N=E-1,L=N*h*.5,k=N*S*.5,Y=N*(R-a.x-I),D=N*(O-a.y-b);let z=a.x-(Y-L),M=a.y-(D-k);if(d<1&&w===1){const A=l*w,j=m*w,{width:T,height:y}=Ze();A<=T&&j<=y&&(z=0,M=0)}u({x:z,y:M,scale:w},x)}}}function ke(t,e,n,o){const c=e+n,r=(n-o)/2;if(n>o){if(e>0)return{[t]:r};if(e<0&&c<o)return{[t]:-r}}else if(e<0||c>o)return{[t]:e<0?r:-r};return{}}function We(t,e,n,o){const{width:c,height:r}=Ze();let a=null;return t<=c&&e<=r?a={x:0,y:0}:(t>c||e>r)&&(a={...ke("x",n,t,c),...ke("y",o,e,r)}),a}const ee=1,Ft=1;function Vt(t,e,n,o,c,r,a){const{rotate:i,scale:f,x:u,y:g}=c,[d,x]=s.useState(!1),C=s.useRef({diffX:0,diffY:0,transformX:0,transformY:0}),p=l=>{!e||l.button!==0||(l.preventDefault(),l.stopPropagation(),C.current={diffX:l.pageX-u,diffY:l.pageY-g,transformX:u,transformY:g},x(!0))},v=l=>{n&&d&&r({x:l.pageX-C.current.diffX,y:l.pageY-C.current.diffY},"move")},h=()=>{if(n&&d){x(!1);const{transformX:l,transformY:m}=C.current;if(!(u!==l&&g!==m))return;const b=t.current.offsetWidth*f,E=t.current.offsetHeight*f,{left:w,top:R}=t.current.getBoundingClientRect(),O=i%180!==0,N=We(O?E:b,O?b:E,w,R);N&&r({...N},"dragRebound")}},S=l=>{if(!n||l.deltaY==0)return;const m=Math.abs(l.deltaY/100),I=Math.min(m,Ft);let b=ee+I*o;l.deltaY>0&&(b=ee/b),a(b,"wheel",l.clientX,l.clientY)};return s.useEffect(()=>{if(e){window.addEventListener("mouseup",h,!1),window.addEventListener("mousemove",v,!1);try{window.top!==window.self&&(window.top.addEventListener("mouseup",h,!1),window.top.addEventListener("mousemove",v,!1))}catch{}}return()=>{var l,m;window.removeEventListener("mouseup",h),window.removeEventListener("mousemove",v);try{(l=window.top)==null||l.removeEventListener("mouseup",h),(m=window.top)==null||m.removeEventListener("mousemove",v)}catch{}}},[n,d,u,g,i,e]),{isMoving:d,onMouseDown:p,onMouseMove:v,onMouseUp:h,onWheel:S}}function _e({src:t,isCustomPlaceholder:e,fallback:n}){const[o,c]=s.useState(e?"loading":"normal"),r=s.useRef(!1),a=o==="error";s.useEffect(()=>{let g=!0;return Wt(t).then(d=>{!d&&g&&c("error")}),()=>{g=!1}},[t]),s.useEffect(()=>{e&&!r.current?c("loading"):a&&c("normal")},[t]);const i=()=>{c("normal")};return[g=>{r.current=!1,o==="loading"&&(g!=null&&g.complete)&&(g.naturalWidth||g.naturalHeight)&&(r.current=!0,i())},a&&n?{src:n}:{onLoad:i,src:t},o]}function ie(t,e){const n=t.x-e.x,o=t.y-e.y;return Math.hypot(n,o)}function Gt(t,e,n,o){const c=ie(t,n),r=ie(e,o);if(c===0&&r===0)return[t.x,t.y];const a=c/(c+r),i=t.x+a*(e.x-t.x),f=t.y+a*(e.y-t.y);return[i,f]}function Ut(t,e,n,o,c,r,a){const{rotate:i,scale:f,x:u,y:g}=c,[d,x]=s.useState(!1),C=s.useRef({point1:{x:0,y:0},point2:{x:0,y:0},eventType:"none"}),p=l=>{C.current={...C.current,...l}},v=l=>{if(!e)return;l.stopPropagation(),x(!0);const{touches:m=[]}=l;m.length>1?p({point1:{x:m[0].clientX,y:m[0].clientY},point2:{x:m[1].clientX,y:m[1].clientY},eventType:"touchZoom"}):p({point1:{x:m[0].clientX-u,y:m[0].clientY-g},eventType:"move"})},h=l=>{const{touches:m=[]}=l,{point1:I,point2:b,eventType:E}=C.current;if(m.length>1&&E==="touchZoom"){const w={x:m[0].clientX,y:m[0].clientY},R={x:m[1].clientX,y:m[1].clientY},[O,N]=Gt(I,b,w,R),L=ie(w,R)/ie(I,b);a(L,"touchZoom",O,N,!0),p({point1:w,point2:R,eventType:"touchZoom"})}else E==="move"&&(r({x:m[0].clientX-I.x,y:m[0].clientY-I.y},"move"),p({eventType:"move"}))},S=()=>{if(!n)return;if(d&&x(!1),p({eventType:"none"}),o>f)return r({x:0,y:0,scale:o},"touchZoom");const l=t.current.offsetWidth*f,m=t.current.offsetHeight*f,{left:I,top:b}=t.current.getBoundingClientRect(),E=i%180!==0,w=We(E?m:l,E?l:m,I,b);w&&r({...w},"dragRebound")};return s.useEffect(()=>{const l=m=>{m.preventDefault()};return n&&e&&window.addEventListener("touchmove",l,{passive:!1}),()=>{window.removeEventListener("touchmove",l)}},[n,e]),{isTouching:d,onTouchStart:v,onTouchMove:h,onTouchEnd:S}}function Qt(t){const{prefixCls:e,icon:n,onClick:o}=t;return s.createElement("button",{className:`${e}-close`,onClick:o},n)}function Jt(t){const{prefixCls:e,showProgress:n,current:o,count:c,showSwitch:r,classNames:a,styles:i,icons:f,image:u,transform:g,countRender:d,actionsRender:x,scale:C,minScale:p,maxScale:v,onActive:h,onFlipY:S,onFlipX:l,onRotateLeft:m,onRotateRight:I,onZoomOut:b,onZoomIn:E,onClose:w,onReset:R}=t,{left:O,right:N,prev:L,next:k,flipY:Y,flipX:D,rotateLeft:z,rotateRight:M,zoomOut:A,zoomIn:j}=f,T=n&&s.createElement("div",{className:`${e}-progress`},d?d(o+1,c):s.createElement("bdi",null,`${o+1} / ${c}`)),y=`${e}-actions-action`,P=({type:K,disabled:q,onClick:fe,icon:se})=>s.createElement("div",{key:K,className:$(y,`${y}-${K}`,{[`${y}-disabled`]:!!q}),onClick:fe},se),X=r?P({icon:L??O,onClick:()=>h(-1),type:"prev",disabled:o===0}):void 0,B=r?P({icon:k??N,onClick:()=>h(1),type:"next",disabled:o===c-1}):void 0,V=P({icon:Y,onClick:S,type:"flipY"}),G=P({icon:D,onClick:l,type:"flipX"}),J=P({icon:z,onClick:m,type:"rotateLeft"}),H=P({icon:M,onClick:I,type:"rotateRight"}),Z=P({icon:A,onClick:b,type:"zoomOut",disabled:C<=p}),Q=P({icon:j,onClick:E,type:"zoomIn",disabled:C===v}),U=s.createElement("div",{className:$(`${e}-actions`,a.actions),style:i.actions},V,G,J,H,Z,Q);return s.createElement("div",{className:$(`${e}-footer`,a.footer),style:i.footer},T,x?x(U,{icons:{prevIcon:X,nextIcon:B,flipYIcon:V,flipXIcon:G,rotateLeftIcon:J,rotateRightIcon:H,zoomOutIcon:Z,zoomInIcon:Q},actions:{onActive:h,onFlipY:S,onFlipX:l,onRotateLeft:m,onRotateRight:I,onZoomOut:b,onZoomIn:E,onReset:R,onClose:w},transform:g,current:o,total:c,image:u}):U)}function Kt(t){const{prefixCls:e,onActive:n,current:o,count:c,icons:{left:r,right:a,prev:i,next:f}}=t,u=`${e}-switch`;return s.createElement(s.Fragment,null,s.createElement("div",{className:$(u,`${u}-prev`,{[`${u}-disabled`]:o===0}),onClick:()=>n(-1)},i??r),s.createElement("div",{className:$(u,`${u}-next`,{[`${u}-disabled`]:o===c-1}),onClick:()=>n(1)},f??a))}function le(){return le=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},le.apply(this,arguments)}const qt=({fallback:t,src:e,imgRef:n,...o})=>{const[c,r]=_e({src:e,fallback:t});return _.createElement("img",le({ref:a=>{n.current=a,c(a)}},o,r))},Fe=t=>{const{prefixCls:e,rootClassName:n,src:o,alt:c,imageInfo:r,fallback:a,movable:i=!0,onClose:f,open:u,afterOpenChange:g,icons:d={},closeIcon:x,getContainer:C,current:p=0,count:v=1,countRender:h,scaleStep:S=.5,minScale:l=1,maxScale:m=50,motionName:I="fade",imageRender:b,imgCommonProps:E,actionsRender:w,onTransform:R,onChange:O,classNames:N={},styles:L={},mousePosition:k,zIndex:Y}=t,D=s.useRef(),z=s.useContext(me),M=z&&v>1,A=z&&v>=1,[j,T]=s.useState(!0),{transform:y,resetTransform:P,updateTransform:X,dispatchZoomChange:B}=_t(D,l,m,R),{isMoving:V,onMouseDown:G,onWheel:J}=Vt(D,i,u,S,y,X,B),{isTouching:H,onTouchStart:Z,onTouchMove:Q,onTouchEnd:U}=Ut(D,i,u,l,y,X,B),{rotate:K,scale:q}=y;s.useEffect(()=>{j||T(!0)},[j]),s.useEffect(()=>{u||P("close")},[u]);const fe=W=>{u&&(q!==1?X({x:0,y:0,scale:1},"doubleClick"):B(ee+S,"doubleClick",W.clientX,W.clientY))},se=_.createElement(qt,le({},E,{width:t.width,height:t.height,imgRef:D,className:`${e}-img`,alt:c,style:{transform:`translate3d(${y.x}px, ${y.y}px, 0) scale3d(${y.flipX?"-":""}${q}, ${y.flipY?"-":""}${q}, 1) rotate(${K}deg)`,transitionDuration:(!j||H)&&"0s"},fallback:a,src:o,onWheel:J,onMouseDown:G,onDoubleClick:fe,onTouchStart:Z,onTouchMove:Q,onTouchEnd:U,onTouchCancel:U})),$e={url:o,alt:c,...r},Ke=()=>{B(ee+S,"zoomIn")},qe=()=>{B(ee/(ee+S),"zoomOut")},et=()=>{X({rotate:K+90},"rotateRight")},tt=()=>{X({rotate:K-90},"rotateLeft")},nt=()=>{X({flipX:!y.flipX},"flipX")},ot=()=>{X({flipY:!y.flipY},"flipY")},st=()=>{P("reset")},re=W=>{const F=p+W;F>=0&&F<=v-1&&(T(!1),P(W<0?"prev":"next"),O==null||O(F,p))},Me=Ye(W=>{if(u){const{keyCode:F}=W;F===de.ESC&&(f==null||f()),M&&(F===de.LEFT?re(-1):F===de.RIGHT&&re(1))}});s.useEffect(()=>{if(u)return window.addEventListener("keydown",Me),()=>{window.removeEventListener("keydown",Me)}},[u]);const[rt,Re]=s.useState(!1);_.useEffect(()=>{u&&Re(!0)},[u]);const at=W=>{W||Re(!1),g==null||g(W)},[Oe,ct]=s.useState(!1);ut(()=>{u&&ct(!0)},[u]);const Le={...L.body};return k&&(Le.transformOrigin=`${k.x}px ${k.y}px`),_.createElement(mt,{open:Oe,getContainer:C,autoLock:rt},_.createElement(ft,{motionName:I,visible:Oe&&u,motionAppear:!0,motionEnter:!0,motionLeave:!0,onVisibleChanged:at},({className:W,style:F})=>{const ze={...L.root,...F};return Y&&(ze.zIndex=Y),_.createElement("div",{className:$(e,n,N.root,W,{[`${e}-moving`]:V}),style:ze},_.createElement("div",{className:$(`${e}-mask`,N.mask),style:L.mask,onClick:f}),_.createElement("div",{className:$(`${e}-body`,N.body),style:Le},b?b(se,{transform:y,image:$e,...z?{current:p}:{}}):se),x!==!1&&x!==null&&_.createElement(Qt,{prefixCls:e,icon:x===!0?d.close:x||d.close,onClick:f}),M&&_.createElement(Kt,{prefixCls:e,current:p,count:v,icons:d,onActive:re}),_.createElement(Jt,{prefixCls:e,showProgress:A,current:p,count:v,showSwitch:M,classNames:N,styles:L,image:$e,transform:y,icons:d,countRender:h,actionsRender:w,scale:q,minScale:l,maxScale:m,onActive:re,onFlipY:ot,onFlipX:nt,onRotateLeft:tt,onRotateRight:et,onZoomOut:qe,onZoomIn:Ke,onClose:f,onReset:st}))}))},be=["crossOrigin","decoding","draggable","loading","referrerPolicy","sizes","srcSet","useMap","alt"];function en(t){const[e,n]=s.useState({}),o=s.useCallback((r,a)=>(n(i=>({...i,[r]:a})),()=>{n(i=>{const f={...i};return delete f[r],f})}),[]);return[s.useMemo(()=>t?t.map(r=>{if(typeof r=="string")return{data:{src:r}};const a={};return Object.keys(r).forEach(i=>{["src",...be].includes(i)&&(a[i]=r[i])}),{data:a}}):Object.keys(e).reduce((r,a)=>{const{canPreview:i,data:f}=e[a];return i&&r.push({data:f,id:a}),r},[]),[t,e]),o,!!t]}function Ie(){return Ie=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Ie.apply(this,arguments)}const tn=({previewPrefixCls:t="rc-image-preview",classNames:e,styles:n,children:o,icons:c={},items:r,preview:a,fallback:i})=>{var z;const{open:f,onOpenChange:u,current:g,onChange:d,...x}=a&&typeof a=="object"?a:{},[C,p,v]=en(r),[h,S]=ce(0,g),[l,m]=s.useState(!1),{src:I,...b}=((z=C[h])==null?void 0:z.data)||{},[E,w]=ce(!!f,f),R=Ye(M=>{w(M),M!==E&&(u==null||u(M,{current:h}))}),[O,N]=s.useState(null),L=s.useCallback((M,A,j,T)=>{const y=v?C.findIndex(P=>P.data.src===A):C.findIndex(P=>P.id===M);S(y<0?0:y),R(!0),N({x:j,y:T}),m(!0)},[C,v]);s.useEffect(()=>{E?l||S(0):m(!1)},[E]);const k=(M,A)=>{S(M),d==null||d(M,A)},Y=()=>{R(!1),N(null)},D=s.useMemo(()=>({register:p,onPreview:L}),[p,L]);return s.createElement(me.Provider,{value:D},o,s.createElement(Fe,Ie({"aria-hidden":!E,open:E,prefixCls:t,onClose:Y,mousePosition:O,imgCommonProps:b,src:I,fallback:i,icons:c,current:h,count:C.length,onChange:k},x,{classNames:e==null?void 0:e.popup,styles:n==null?void 0:n.popup})))};let Te=0;function nn(t,e){const[n]=s.useState(()=>(Te+=1,String(Te))),o=s.useContext(me),c={data:e,canPreview:t};return s.useEffect(()=>{if(o)return o.register(n,c)},[]),s.useEffect(()=>{o&&o.register(n,c)},[t,e]),n}function oe(){return oe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},oe.apply(this,arguments)}const Pe=t=>{const{prefixCls:e="rc-image",previewPrefixCls:n=`${e}-preview`,rootClassName:o,className:c,style:r,classNames:a={},styles:i={},width:f,height:u,src:g,alt:d,placeholder:x,fallback:C,preview:p=!0,onClick:v,onError:h,...S}=t,l=s.useContext(me),m=!!p,{src:I,open:b,onOpenChange:E,cover:w,rootClassName:R,...O}=p&&typeof p=="object"?p:{},N=typeof w=="object"&&w.placement&&w.placement||"center",L=typeof w=="object"&&w.coverNode?w.coverNode:w,[k,Y]=ce(!!b,b),[D,z]=s.useState(null),M=H=>{Y(H),E==null||E(H)},A=()=>{M(!1)},j=x&&x!==!0,T=I??g,[y,P,X]=_e({src:g,isCustomPlaceholder:j,fallback:C}),B=s.useMemo(()=>{const H={};return be.forEach(Z=>{t[Z]!==void 0&&(H[Z]=t[Z])}),H},be.map(H=>t[H])),V=s.useMemo(()=>({...B,src:T}),[T,B]),G=nn(m,V),J=H=>{const Z=H.target.getBoundingClientRect(),Q=Z.x+Z.width/2,U=Z.y+Z.height/2;l?l.onPreview(G,T,Q,U):(z({x:Q,y:U}),M(!0)),v==null||v(H)};return s.createElement(s.Fragment,null,s.createElement("div",oe({},S,{className:$(e,o,a.root,{[`${e}-error`]:X==="error"}),onClick:m?J:v,style:{width:f,height:u,...i.root}}),s.createElement("img",oe({},B,{className:$(`${e}-img`,{[`${e}-img-placeholder`]:x===!0},a.image,c),style:{height:u,...i.image,...r},ref:y},P,{width:f,height:u,onError:h})),X==="loading"&&s.createElement("div",{"aria-hidden":"true",className:`${e}-placeholder`},x),w!==!1&&m&&s.createElement("div",{className:$(`${e}-cover`,a.cover,`${e}-cover-${N}`),style:{display:(r==null?void 0:r.display)==="none"?"none":void 0,...i.cover}},L)),!l&&m&&s.createElement(Fe,oe({"aria-hidden":!k,open:k,prefixCls:n,onClose:A,mousePosition:D,src:T,alt:d,imageInfo:{width:f,height:u},fallback:C,imgCommonProps:B},O,{classNames:a==null?void 0:a.popup,styles:i==null?void 0:i.popup,rootClassName:$(R,o)})))};Pe.PreviewGroup=tn;const Ve=(t,e,n,o,c,r,a)=>{const[i]=dt("ImagePreview",t==null?void 0:t.zIndex),[f,u]=Et(t==null?void 0:t.mask,e==null?void 0:e.mask,`${n}-preview`);return _.useMemo(()=>{if(!t)return t;const{cover:g,getContainer:d,closeIcon:x,rootClassName:C}=t,{closeIcon:p}=e??{};return{motionName:ht(`${n}-preview`,"fade"),...t,...a?{cover:g??a}:{},icons:r,getContainer:d??c,zIndex:i,closeIcon:x??p,rootClassName:$(o,C),mask:f,blurClassName:u.mask}},[t,e,n,o,c,a,r,i,f,u])};function on(t){return s.isValidElement(t)?[t,void 0]:typeof t=="boolean"||t&&typeof t=="object"?[void 0,t]:[void 0,void 0]}function ue(t){const e=s.useMemo(()=>typeof t=="boolean"?t?{}:null:t&&typeof t=="object"?t:{},[t]);return s.useMemo(()=>{if(!e)return[e,"",""];const{open:o,onOpenChange:c,cover:r,actionsRender:a,visible:i,onVisibleChange:f,rootClassName:u,maskClassName:g,mask:d,forceRender:x,destroyOnClose:C,toolbarRender:p,...v}=e;let h;c?h=c:f&&(h=(m,I)=>{const{current:b}=I||{};b!==void 0?f(m,!m,b):f(m,!m)});const[S,l]=on(d);return[{...v,open:o??i,onOpenChange:h,cover:r??S,mask:l,actionsRender:a??p},u,g]},[e])}const Ge=t=>({position:t||"absolute",inset:0}),sn=t=>{const{componentCls:e,motionDurationSlow:n,colorTextLightSolid:o}=t;return{[e]:{[`${e}-cover`]:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:o,background:new ne("#000").setA(.3).toRgbString(),cursor:"pointer",opacity:0,transition:`opacity ${n}`},"&:hover":{[`${e}-cover`]:{opacity:1}},[`${e}-cover-top`]:{inset:"0 0 auto 0",justifyContent:"center"},[`${e}-cover-bottom`]:{inset:"auto 0 0 0",justifyContent:"center"}}}},rn=t=>{const{motionEaseOut:e,previewCls:n,motionDurationSlow:o,componentCls:c,colorBgMask:r,marginXL:a,marginSM:i,margin:f,colorTextLightSolid:u,paddingSM:g,paddingLG:d,previewOperationHoverColor:x,previewOperationColorDisabled:C,previewOperationSize:p,zIndexPopup:v}=t,h=new ne(r).setA(.1),S=h.clone().setA(.2),l={position:"absolute",color:u,backgroundColor:h.toRgbString(),borderRadius:"50%",padding:g,outline:0,border:0,cursor:"pointer",transition:`all ${o}`,display:"flex",fontSize:p,"&:hover":{backgroundColor:S.toRgbString()},"&:active":{backgroundColor:h.toRgbString()}};return{[`${c}-preview`]:{textAlign:"center",inset:0,position:"fixed",userSelect:"none",zIndex:v,[`${n}-mask`]:{inset:0,position:"absolute",background:r,[`&${c}-preview-mask-blur`]:{backdropFilter:"blur(4px)"},[`&${c}-preview-mask-hidden`]:{display:"none"}},[`${n}-body`]:{...Ge(),"pointer-events":"none",display:"flex",alignItems:"center",justifyContent:"center","> *":{pointerEvents:"auto"}},[`${n}-img`]:{maxWidth:"100%",maxHeight:"70%",verticalAlign:"middle",transform:"scale3d(1, 1, 1)",cursor:"grab",transition:`transform ${o} ${e} 0s`},[`&-moving ${n}-img`]:{cursor:"grabbing"},[`${n}-close`]:{...l,top:i,insetInlineEnd:i},[`${n}-switch`]:{...l,top:"50%",transform:"translateY(-50%)","&-disabled":{"&, &:hover, &:active":{color:C,background:"transparent",cursor:"not-allowed"}},"&-prev":{insetInlineStart:i},"&-next":{insetInlineEnd:i}},[`${n}-footer`]:{position:"absolute",bottom:a,left:{_skip_check_:!0,value:"50%"},display:"flex",flexDirection:"column",alignItems:"center",color:t.previewOperationColor,transform:"translateX(-50%)",gap:f},[`${n}-actions`]:{display:"flex",gap:g,padding:`0 ${pt(d)}`,backgroundColor:h.toRgbString(),borderRadius:100,fontSize:p,"&-action":{padding:g,cursor:"pointer",transition:`all ${o}`,display:"flex",[`&:not(${n}-actions-action-disabled):hover`]:{color:x},"&-disabled":{color:C,cursor:"not-allowed"}}}}}},an=t=>{const{componentCls:e}=t;return{[e]:{position:"relative",display:"inline-block",[`${e}-img`]:{width:"100%",height:"auto",verticalAlign:"middle"},[`${e}-img-placeholder`]:{backgroundColor:t.colorBgContainerDisabled,backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTQuNSAyLjVoLTEzQS41LjUgMCAwIDAgMSAzdjEwYS41LjUgMCAwIDAgLjUuNWgxM2EuNS41IDAgMCAwIC41LS41VjNhLjUuNSAwIDAgMC0uNS0uNXpNNS4yODEgNC43NWExIDEgMCAwIDEgMCAyIDEgMSAwIDAgMSAwLTJ6bTguMDMgNi44M2EuMTI3LjEyNyAwIDAgMS0uMDgxLjAzSDIuNzY5YS4xMjUuMTI1IDAgMCAxLS4wOTYtLjIwN2wyLjY2MS0zLjE1NmEuMTI2LjEyNiAwIDAgMSAuMTc3LS4wMTZsLjAxNi4wMTZMNy4wOCAxMC4wOWwyLjQ3LTIuOTNhLjEyNi4xMjYgMCAwIDEgLjE3Ny0uMDE2bC4wMTUuMDE2IDMuNTg4IDQuMjQ0YS4xMjcuMTI3IDAgMCAxLS4wMi4xNzV6IiBmaWxsPSIjOEM4QzhDIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4=')",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"30%"},[`${e}-placeholder`]:{...Ge()}}}},cn=t=>{const{previewCls:e,motionDurationSlow:n}=t;return{[e]:{"&-fade":{transition:`opacity ${n}`,"&-enter, &-appear":{opacity:0,[`${e}-body`]:{transform:"scale(0)"},"&-active":{opacity:1,[`${e}-body`]:{transform:"scale(1)",transition:`transform ${n}`}}},"&-leave":{opacity:1,"&-active":{opacity:0,[`${e}-body`]:{transform:"scale(0)",transition:`transform ${n}`}}}}}}},ln=t=>({zIndexPopup:t.zIndexPopupBase+80,previewOperationColor:new ne(t.colorTextLightSolid).setA(.65).toRgbString(),previewOperationHoverColor:new ne(t.colorTextLightSolid).setA(.85).toRgbString(),previewOperationColorDisabled:new ne(t.colorTextLightSolid).setA(.25).toRgbString(),previewOperationSize:t.fontSizeIcon*1.5}),Ue=De("Image",t=>{const e=`${t.componentCls}-preview`,n=gt(t,{previewCls:e,imagePreviewSwitchSize:t.controlHeightLG});return[an(n),sn(n),rn(n),cn(n)]},ln),Ee={rotateLeft:s.createElement(Lt,null),rotateRight:s.createElement(jt,null),zoomIn:s.createElement(Xt,null),zoomOut:s.createElement(Zt,null),close:s.createElement(Ct,null),left:s.createElement(pe,null),right:s.createElement(ge,null),flipX:s.createElement(je,null),flipY:s.createElement(je,{rotate:90})},un=({previewPrefixCls:t,preview:e,classNames:n,styles:o,...c})=>{const{getPrefixCls:r,getPopupContainer:a,direction:i,preview:f,classNames:u,styles:g}=Se("image"),d=r("image",t),x=`${d}-preview`,C=Xe(d),[p,v]=Ue(d,C),h=$(p,v,C),[S,l,m]=ue(e),[I,b,E]=ue(f),w=s.useMemo(()=>({...Ee,left:i==="rtl"?s.createElement(ge,null):s.createElement(pe,null),right:i==="rtl"?s.createElement(pe,null):s.createElement(ge,null)}),[i]),R=Ve(S,I,d,h,a,Ee),{mask:O,blurClassName:N}=R??{},L={...c,classNames:n,styles:o},[k,Y]=Ne([u,n,{cover:$(E,m),popup:{root:$(b,l),mask:$({[`${d}-preview-mask-hidden`]:!O},N)}}],[g,o],{props:L},{popup:{_default:"root"}});return s.createElement(Pe.PreviewGroup,{preview:R,previewPrefixCls:x,icons:w,...c,classNames:k,styles:Y})},mn=t=>{const{prefixCls:e,preview:n,className:o,rootClassName:c,style:r,styles:a,classNames:i,wrapperStyle:f,fallback:u,...g}=t,{getPrefixCls:d,getPopupContainer:x,className:C,style:p,preview:v,styles:h,classNames:S,fallback:l}=Se("image"),m=d("image",e),I=Xe(m),[b,E]=Ue(m,I),w=$(c,b,E,I),R=$(o,b,C),[O,N,L]=ue(n),[k,Y,D]=ue(v),z=Ve(O,k,m,w,x,Ee,!0),M={...t,preview:z},A=s.useMemo(()=>({cover:$(D,L),popup:{root:$(Y,N)}}),[N,L,Y,D]),{mask:j,blurClassName:T}=z??{},y=s.useMemo(()=>({mask:$({[`${m}-preview-mask-hidden`]:!j},T)}),[j,m,T]),P=s.useMemo(()=>[S,i,A,{popup:y}],[S,i,A,y]),[X,B]=Ne(P,[h,{root:f},a],{props:M},{popup:{_default:"root"}}),V={...p,...r},G=u??l;return s.createElement(Pe,{prefixCls:m,preview:z||!1,rootClassName:w,className:R,style:V,fallback:G,...g,classNames:X,styles:B})};mn.PreviewGroup=un;const fn=t=>{const{componentCls:e,iconCls:n,antCls:o,zIndexPopup:c,colorText:r,colorWarning:a,marginXXS:i,marginXS:f,fontSize:u,fontWeightStrong:g,colorTextHeading:d}=t;return{[e]:{zIndex:c,[`&${o}-popover`]:{fontSize:u},[`${e}-message`]:{marginBottom:f,display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${e}-message-icon ${n}`]:{color:a,fontSize:u,lineHeight:1,marginInlineEnd:f},[`${e}-title`]:{fontWeight:g,color:d,"&:only-child":{fontWeight:"normal"}},[`${e}-description`]:{marginTop:i,color:r}},[`${e}-buttons`]:{textAlign:"end",whiteSpace:"nowrap",button:{marginInlineStart:f}}}}},dn=t=>{const{zIndexPopupBase:e}=t;return{zIndexPopup:e+60}},Qe=De("Popconfirm",t=>fn(t),dn,{resetStyle:!1}),Je=t=>{const{prefixCls:e,okButtonProps:n,cancelButtonProps:o,title:c,description:r,cancelText:a,okText:i,okType:f="primary",icon:u=s.createElement(He,null),showCancel:g=!0,close:d,onConfirm:x,onCancel:C,onPopupClick:p,classNames:v,styles:h}=t,{getPrefixCls:S}=s.useContext(Be),[l]=wt("Popconfirm",vt.Popconfirm),m=Ae(c),I=Ae(r);return s.createElement("div",{className:`${e}-inner-content`,onClick:p},s.createElement("div",{className:`${e}-message`},u&&s.createElement("span",{className:`${e}-message-icon`},u),s.createElement("div",{className:`${e}-message-text`},m&&s.createElement("div",{className:$(`${e}-title`,v==null?void 0:v.title),style:h==null?void 0:h.title},m),I&&s.createElement("div",{className:$(`${e}-description`,v==null?void 0:v.content),style:h==null?void 0:h.content},I))),s.createElement("div",{className:`${e}-buttons`},g&&s.createElement(xt,{onClick:C,size:"small",...o},a||(l==null?void 0:l.cancelText)),s.createElement(St,{buttonProps:{size:"small",...yt(f),...n},actionFn:x,close:d,prefixCls:S("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},i||(l==null?void 0:l.okText))))},gn=t=>{const{prefixCls:e,placement:n,className:o,style:c,...r}=t,{getPrefixCls:a}=s.useContext(Be),i=a("popconfirm",e);return Qe(i),s.createElement(Nt,{placement:n,className:$(i,o),style:c,content:s.createElement(Je,{prefixCls:i,...r})})},pn=s.forwardRef((t,e)=>{const{prefixCls:n,placement:o="top",trigger:c,okType:r="primary",icon:a=s.createElement(He,null),children:i,overlayClassName:f,onOpenChange:u,overlayStyle:g,styles:d,arrow:x,classNames:C,...p}=t,{getPrefixCls:v,className:h,style:S,classNames:l,styles:m,arrow:I,trigger:b}=Se("popconfirm"),[E,w]=ce(t.defaultOpen??!1,t.open),R=bt(x,I),O=c||b||"click",N=(y,P)=>{w(y),u==null||u(y,P)},L=y=>{N(!1,y)},k=y=>{var P;return(P=t.onConfirm)==null?void 0:P.call(void 0,y)},Y=y=>{var P;N(!1,y),(P=t.onCancel)==null||P.call(void 0,y)},D=(y,P)=>{const{disabled:X=!1}=t;X||N(y,P)},z=v("popconfirm",n),M={...t,placement:o,trigger:O,okType:r,overlayStyle:g,styles:d,classNames:C},[A,j]=Ne([l,C],[m,d],{props:M}),T=$(z,h,f,A.root);return Qe(z),s.createElement(Pt,{arrow:R,...It(p,["title"]),trigger:O,placement:o,onOpenChange:D,open:E,ref:e,classNames:{root:T,container:A.container,arrow:A.arrow},styles:{root:{...S,...j.root,...g},container:j.container,arrow:j.arrow},content:s.createElement(Je,{okType:r,icon:a,...t,prefixCls:z,close:L,onConfirm:k,onCancel:Y,classNames:A,styles:j}),"data-popover-inject":!0},i)}),vn=pn;vn._InternalPanelDoNotUseOrYouWillBeFired=gn;export{mn as I,vn as P,bn as R};
