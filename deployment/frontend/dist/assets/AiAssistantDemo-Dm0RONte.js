import{c as d,r as s,j as e,e as v,I as w}from"./index-DA1mDptU.js";import{R as N,U as M,S as I}from"./user-fqEyCYoJ.js";import{A as S}from"./index-m6Jxk0NQ.js";import{l as z}from"./proxy-kx--bhzL.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],p=d("bot",A);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],T=d("mic",D);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],$=d("paperclip",_),g={id:"1",role:"assistant",content:"你好！我是你的智能助手。我可以帮你解答问题、编写代码或者处理文档。请问今天有什么可以帮你的？",timestamp:new Date};function V(){const[x,a]=s.useState([g]),[r,u]=s.useState(""),[l,m]=s.useState(!1),h=s.useRef(null),y=()=>{var t;(t=h.current)==null||t.scrollIntoView({behavior:"smooth"})};s.useEffect(()=>{y()},[x]);const f=async t=>{if(t==null||t.preventDefault(),!r.trim())return;const j={id:Date.now().toString(),role:"user",content:r,timestamp:new Date};a(n=>[...n,j]),u(""),m(!0),setTimeout(()=>{const n="这是一个模拟的 AI 响应。在真实项目中，这里会连接到 LLM 后端，通过流式传输（Streaming）实时返回内容。这个 Demo 展示了 Markdown 渲染、打字机效果以及多模态交互界面的设计。",b={id:(Date.now()+1).toString(),role:"assistant",content:"",timestamp:new Date};a(o=>[...o,b]);let i=0;const k=setInterval(()=>{i<n.length?(a(o=>o.map(c=>c.id===b.id?{...c,content:n.slice(0,i+1)}:c)),i++):(clearInterval(k),m(!1))},30)},1e3)};return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col font-sans",children:[e.jsxs("header",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-6 py-4 flex items-center justify-between shadow-sm sticky top-0 z-10",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-blue-600 rounded-lg text-white",children:e.jsx(p,{size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"AI 智能助手"}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-1.5 animate-pulse"}),"Online • GPT-4 Turbo"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(v,{to:"/",className:"text-sm text-gray-500 hover:text-blue-600 dark:text-gray-400 dark:hover:text-blue-400 font-medium",children:"返回首页"}),e.jsx("button",{onClick:()=>a([g]),className:"p-2 text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",title:"重置对话",children:e.jsx(N,{size:20})})]})]}),e.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 space-y-6 scroll-smooth",children:e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsx(S,{initial:!1,children:x.map(t=>e.jsx(z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex ${t.role==="user"?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`flex max-w-[85%] md:max-w-[75%] ${t.role==="user"?"flex-row-reverse":"flex-row"} items-start gap-3`,children:[e.jsx("div",{className:`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center ${t.role==="user"?"bg-gray-900 dark:bg-gray-700 text-white":"bg-blue-100 dark:bg-blue-900/50 text-blue-600 dark:text-blue-400"}`,children:t.role==="user"?e.jsx(M,{size:16}):e.jsx(p,{size:16})}),e.jsxs("div",{className:`p-4 rounded-2xl shadow-sm ${t.role==="user"?"bg-blue-600 text-white rounded-tr-none":"bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-200 border border-gray-100 dark:border-gray-700 rounded-tl-none"}`,children:[e.jsx("p",{className:"leading-relaxed whitespace-pre-wrap",children:t.content}),t.content===""&&l&&e.jsx("span",{className:"inline-block w-2 h-4 bg-blue-500 dark:bg-blue-400 ml-1 animate-pulse"}),e.jsx("span",{className:`text-[10px] mt-2 block opacity-60 ${t.role==="user"?"text-blue-100":"text-gray-400"}`,children:t.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})},t.id))}),e.jsx("div",{ref:h})]})}),e.jsx("footer",{className:"bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 p-4 sticky bottom-0",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("form",{onSubmit:f,className:"relative",children:[e.jsxs("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 flex space-x-2 text-gray-400",children:[e.jsx("button",{type:"button",className:"hover:text-blue-600 transition-colors",children:e.jsx($,{size:20})}),e.jsx("button",{type:"button",className:"hover:text-blue-600 transition-colors",children:e.jsx(w,{size:20})})]}),e.jsx("input",{type:"text",value:r,onChange:t=>u(t.target.value),placeholder:"输入消息...",className:"w-full pl-24 pr-14 py-4 bg-gray-100 dark:bg-gray-700/50 border-transparent focus:bg-white dark:focus:bg-gray-700 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 rounded-xl outline-none transition-all text-gray-900 dark:text-white shadow-inner",disabled:l}),e.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 flex items-center space-x-2",children:r?e.jsx("button",{type:"submit",disabled:l,className:"p-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors shadow-md disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(I,{size:18})}):e.jsx("button",{type:"button",className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors",children:e.jsx(T,{size:20})})})]}),e.jsx("p",{className:"text-center text-xs text-gray-400 dark:text-gray-500 mt-3",children:"AI 可能会产生错误信息，请核对重要事实。"})]})})]})}export{V as default};
